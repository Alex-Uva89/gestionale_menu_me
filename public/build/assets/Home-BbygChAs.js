import{o as a,f as r,b as e,t as u,a as c,F as _,k as C,p as z,l as N,m as ae,n as V,r as G,g as w,q as re,d as p,w as g,s as f,e as R,i as y,x as k,y as A,c as U,u as H,z as de,A as W,B as K,C as ce,Z as he}from"./app-DYwNpvgG.js";import{A as Y}from"./ApplicationLogo-DmrDoW0L.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ue}from"./Modal-CXxRSFr_.js";const ge={},pe={class:"h-28 w-full bottom-0 left-5 p-5 text-sm text-black dark:text-white/70 border-t-2 border-black"};function fe(t,s){return a(),r("footer",pe,[e("div",null," © "+u(new Date().getFullYear())+" MammaElvira ",1),e("div",null," MammaElvira v."+u(t.$page.props.projectVersion),1),e("div",null," dev with Laravel v."+u(t.$page.props.laravelVersion),1)])}const me=$(ge,[["render",fe]]),O=t=>(z("data-v-0a3a8b46"),t=t(),N(),t),be=O(()=>e("span",{class:"sr-only"},"Open sidebar",-1)),_e=O(()=>e("svg",{class:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})],-1)),ve=[be,_e],we={id:"sidebar-multi-level-sidebar",class:"flex flex-col top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 border-e-2 border-black","aria-label":"Sidebar"},ye={class:"header-sidebar px-3 overflow-y-auto bg-gray-50 dark:bg-gray-800"},ke={class:"max-h-96 overflow-y-scroll scrolling space-y-2 font-medium"},xe=O(()=>e("svg",{class:"w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 21"},[e("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),e("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})],-1)),De=O(()=>e("span",{class:"ms-3"},"Dashboard",-1)),Ce=[xe,De],$e=ae('<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 448 512" data-v-0a3a8b46><path d="M416 0C400 0 288 32 288 176V288c0 35.3 28.7 64 64 64h32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V352 240 32c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7V480c0 17.7 14.3 32 32 32s32-14.3 32-32V255.6c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16V150.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8V16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z" data-v-0a3a8b46></path></svg><span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap" data-v-0a3a8b46>Ristorante</span><svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6" data-v-0a3a8b46><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" data-v-0a3a8b46></path></svg>',3),Me=[$e],Ae={id:"dropdown-example",class:"hidden py-2 space-y-2"},Ie=["onClick"],Ee=O(()=>e("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 384 512"},[e("path",{d:"M16 64C16 28.7 44.7 0 80 0H304c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H80c-35.3 0-64-28.7-64-64V64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64H80V384H304V64z"})],-1)),Se=O(()=>e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Anteprima menù",-1)),Ve=[Ee,Se],je=O(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-triangle-fill flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",viewBox:"0 0 16 16"},[e("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"})],-1)),Pe=O(()=>e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Allergeni",-1)),ze=[je,Pe],Ne=O(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-book font-bold flex-shrink-0 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",viewBox:"0 0 16 16"},[e("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"})],-1)),Te=O(()=>e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Ricette",-1)),Oe=[Ne,Te],Re=O(()=>e("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m17.418 3.623-.018-.008a6.713 6.713 0 0 0-2.4-.569V2h1a1 1 0 1 0 0-2h-2a1 1 0 0 0-1 1v2H9.89A6.977 6.977 0 0 1 12 8v5h-2V8A5 5 0 1 0 0 8v6a1 1 0 0 0 1 1h8v4a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-4h6a1 1 0 0 0 1-1V8a5 5 0 0 0-2.582-4.377ZM6 12H4a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2Z"})],-1)),Be=O(()=>e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Inbox",-1)),Ue={class:"inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300"},Fe={emits:["venueName","venueColor","valueButton"],methods:{toggleDropdown(){document.getElementById("dropdown-example").classList.toggle("hidden")},selectVenueName(t){t&&(this.$emit("venue-name",t.name),this.$emit("venue-color",t.color))},selectValueButton(t){this.$emit("value-button",t)}}},Le=Object.assign(Fe,{__name:"Sidebar",props:{messages:Array},setup(t){return(s,o)=>(a(),r(_,null,[e("button",{"data-drawer-target":"sidebar-multi-level-sidebar",onClick:o[0]||(o[0]=(...l)=>s.toggleDropdown&&s.toggleDropdown(...l)),"data-drawer-toggle":"sidebar-multi-level-sidebar","aria-controls":"sidebar-multi-level-sidebar",type:"button",class:"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"},ve),e("aside",we,[e("div",ye,[c(Y),e("ul",ke,[e("li",null,[e("a",{onClick:o[1]||(o[1]=l=>s.selectValueButton("Dashboard")),class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"},Ce)]),e("li",null,[e("button",{type:"button",onClick:o[2]||(o[2]=(...l)=>s.toggleDropdown&&s.toggleDropdown(...l)),class:"flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700","aria-controls":"dropdown-example","data-collapse-toggle":"dropdown-example"},Me),e("ul",Ae,[(a(!0),r(_,null,C(s.$page.props.venues,l=>(a(),r("li",{key:l.id},[e("a",{onClick:i=>s.selectVenueName(l),href:"#",class:"venue flex items-center w-full px-2 text-gray-900 transition duration-75 rounded-lg pl-11 group dark:text-whit hover:bg-blue-100"},u(l.name),9,Ie)]))),128))])]),e("li",null,[e("a",{onClick:o[3]||(o[3]=l=>s.selectValueButton("Anteprima menù")),class:"cursor-pointer flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},Ve)]),e("li",null,[e("a",{onClick:o[4]||(o[4]=l=>s.selectValueButton("Allergeni")),class:"cursor-pointer flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},ze)]),e("li",null,[e("a",{onClick:o[5]||(o[5]=l=>s.selectValueButton("Ricette")),class:"cursor-pointer flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},Oe)]),e("li",null,[e("a",{onClick:o[6]||(o[6]=l=>s.selectValueButton("inbox")),class:"cursor-pointer flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},[Re,Be,e("span",Ue,u(t.messages.filter(l=>!l.is_read).length),1)])])])]),c(me)])],64))}}),He=$(Le,[["__scopeId","data-v-0a3a8b46"]]),qe={props:{selectedVenueName:String,selectedVenueColor:String,selectedValueButton:String}},Ke={class:"header"},Je={key:0,class:"ms-2"},Ze={key:1,class:"ms-2"};function Qe(t,s,o,l,i,n){return a(),r("header",Ke,[e("div",{class:V(["flex h-full items-center",{"bg-blue-700":o.selectedVenueColor==="blue"||o.selectedVenueColor==="","bg-olive":o.selectedVenueColor==="green","bg-stone-500":o.selectedVenueColor==="gray","bg-enoteca":o.selectedVenueColor==="red","text-orange-500":o.selectedVenueColor==="gray"}])},[o.selectedVenueName?(a(),r("h1",Je,u(o.selectedVenueName),1)):(a(),r("h1",Ze,u(o.selectedValueButton),1))],2)])}const Ge=$(qe,[["render",Qe],["__scopeId","data-v-d374f395"]]),We={props:{showModal:{type:Boolean,default:!1}}},Ye={key:0,class:"modal-container"},Xe={class:"modal"},et={class:"p-10"};function tt(t,s,o,l,i,n){return o.showModal?(a(),r("section",Ye,[e("div",Xe,[e("div",et,[G(t.$slots,"default",{},void 0,!0)])])])):w("",!0)}const E=$(We,[["render",tt],["__scopeId","data-v-cdcaf11d"]]),st={name:"ButtonCss",props:{tooltipText:{type:String,default:""},hoverColor:{type:String,default:"#1100ff"}}},ot=["title"];function it(t,s,o,l,i,n){return a(),r("button",{class:"button-css",role:"button",title:o.tooltipText,style:re({"--hover-color":o.hoverColor})},[G(t.$slots,"default")],12,ot)}const P=$(st,[["render",it]]),X=t=>(z("data-v-f519cf66"),t=t(),N(),t),lt={class:"inbox relative"},nt={key:0,class:"font-semibold p-4 border-4 border-blue-400 sticky top-0 bg-white"},at={class:"text-xl text-blue-700"},rt={class:"text-2xl text-black"},dt={key:1,class:"font-semibold p-4 border-4 border-blue-400 sticky top-0 bg-white"},ct=X(()=>e("span",{class:"text-xl text-blue-700"},"Non ci sono messaggi da leggere",-1)),ht=[ct],ut=["onClick"],gt={class:"btn btn-primary"},pt={class:"p-10 flex flex-col h-52 justify-evenly my-5"},ft=X(()=>e("h2",{class:"text-xl font-semibold"},"Messaggio dal Backend",-1)),mt={class:"border-2 shadow-lg py-10 px-4 my-3"},bt={data(){return{showModalMessage:!1,message:null}},components:{ModalAction:E,ButtonCss:P},methods:{async readMessage(t){t.is_read=!0,this.showModalMessage=!0,this.message=t;try{await f.put(`/api/messages/${t.id}`,{is_read:!0})}catch(s){console.error(s)}}}},_t=Object.assign(bt,{__name:"Inbox",props:{messages:Array},setup(t){return(s,o)=>(a(),r(_,null,[e("div",lt,[p(u(s.showModalMessage)+" ",1),t.messages.some(l=>!l.is_read)?(a(),r("h2",nt,[e("span",at,[p("Hai "),e("strong",rt,u(t.messages.filter(l=>!l.is_read).length),1),p(" messaggi da leggere")])])):(a(),r("h2",dt,ht)),e("ul",null,[(a(!0),r(_,null,C(t.messages,l=>(a(),r("li",{key:l.id,class:V(["flex justify-between",l.is_read?"bg-gray-100":"bg-blue-200"]),onClick:i=>s.readMessage(l)},[e("p",{class:V([{"font-bold cliccable":!l.is_read},"cursor-pointer w-full"])},u(l.content),3),e("div",gt,u(l.is_read?"✅":"🔴"),1)],10,ut))),128))])]),c(E,{showModal:s.showModalMessage},{default:g(()=>[e("div",pt,[ft,e("p",mt,u(s.message.content),1),c(P,{onClick:o[0]||(o[0]=l=>s.showModalMessage=!1),class:"absolute top-2 right-2"},{default:g(()=>[p("❌")]),_:1})])]),_:1},8,["showModal"])],64))}}),vt=$(_t,[["__scopeId","data-v-f519cf66"]]),ee=t=>(z("data-v-af546d3d"),t=t(),N(),t),wt={class:"section_accordion"},yt={class:"accordion overflow-x-hidden"},kt={key:0,class:"p-3"},xt=ee(()=>e("strong",{class:"uppercase"},"aggiungendo",-1)),Dt=["id"],Ct=["for"],$t={class:"tab__content bg-white"},Mt={class:"add_category fixed bottom-5 left-80 right-72"},At={class:"w-4/5 bg-white p-5 border-2 border-black rounded-b-2xl"},It=ee(()=>e("div",null,[e("button",{type:"submit"},"Salva"),e("span",null," | "),e("button",{type:"reset"},"Annulla")],-1)),Et={data(){return{category:{name:""},venues:[]}},methods:{createCategory(t,s){const o=[s];f.post("/api/categories",{...t}).then(l=>{console.log("RESPONSE category"),console.log(l.data),this.category.name="",this.categories=l.data,this.category_laCucina.push(l.data),f.post(`/api/categories/${l.data.id}/venues`,{category_id:t.id,venue_id:o}).then(i=>{console.log("RESPONSE venue"),console.log(i.data),o.push(i.data)}).catch(i=>{console.log(i)})}).catch(l=>{console.log(l)})}}},St=Object.assign(Et,{__name:"LaCucina",props:{selectedVenueName:String,selectedVenueColor:String,category_laCucina:Array},setup(t){return(s,o)=>(a(),r("div",wt,[e("section",yt,[t.category_laCucina.length===0?(a(),r("h2",kt,[p(" ⭐ Inizia "),xt,p(" una categoria ")])):w("",!0),(a(!0),r(_,null,C(t.category_laCucina,l=>(a(),r("div",{class:V(["tab border border-black",{"bg-blue-700":t.selectedVenueColor==="blue"||t.selectedVenueColor==="","bg-olive":t.selectedVenueColor==="green","bg-stone-500":t.selectedVenueColor==="grey","bg-enoteca":t.selectedVenueColor==="red","text-orange-500":t.selectedVenueColor==="grey"}])},[e("input",{type:"checkbox",name:"accordion-1",id:"cb"+l.id},null,8,Dt),e("label",{for:"cb"+l.id,class:"tab__label uppercase text-white text-center font-bold cursor-pointer"},u(l.name),9,Ct),e("div",$t,[e("p",null,u(),1)])],2))),256))]),e("section",Mt,[e("div",{class:V(["p-5 w-4/5 border-2 border-black rounded-t-2xl uppercase text-white text-center font-bold cursor-pointer",{"bg-blue-700":t.selectedVenueColor==="blue"||t.selectedVenueColor==="","bg-olive":t.selectedVenueColor==="green","bg-stone-500":t.selectedVenueColor==="grey","bg-enoteca":t.selectedVenueColor==="red","text-orange-500":t.selectedVenueColor==="grey"}])},"aggiungi categorie",2),e("div",At,[e("form",{class:"flex justify-between items-center",onSubmit:o[1]||(o[1]=R(l=>s.createCategory(s.category,1),["prevent"]))},[y(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s.category.name=l),type:"text",placeholder:"Nome categoria",id:"inputCategory"},null,512),[[k,s.category.name]]),It],32)])])]))}}),Vt=$(St,[["__scopeId","data-v-af546d3d"]]),te=t=>(z("data-v-50bd1b16"),t=t(),N(),t),jt={class:"section_accordion"},Pt={class:"accordion overflow-x-hidden"},zt={key:0,class:"p-3"},Nt=te(()=>e("strong",{class:"uppercase"},"aggiungendo",-1)),Tt=["id"],Ot=["for"],Rt={class:"tab__content bg-white"},Bt={class:"add_category fixed bottom-5 left-80 right-72"},Ut={class:"w-4/5 bg-white p-5 border-2 border-black rounded-b-2xl"},Ft=te(()=>e("div",null,[e("button",{type:"submit"},"Salva"),e("span",null," | "),e("button",{type:"reset"},"Annulla")],-1)),Lt={data(){return{category:{name:""},venues:[]}},methods:{createCategory(t,s){const o=[s];f.post("/api/categories",{...t}).then(l=>{console.log("RESPONSE category"),console.log(l.data),this.category.name="",this.categories=l.data,this.category_scante.push(l.data),f.post(`/api/categories/${l.data.id}/venues`,{category_id:t.id,venue_id:o}).then(i=>{console.log("RESPONSE venue"),console.log(i.data),o.push(i.data)}).catch(i=>{console.log(i)})}).catch(l=>{console.log(l)})}}},Ht=Object.assign(Lt,{__name:"Scante",props:{selectedVenueName:String,selectedVenueColor:String,category_scante:Array},setup(t){return(s,o)=>(a(),r("div",jt,[e("section",Pt,[t.category_scante.length===0?(a(),r("h2",zt,[p(" ⭐ Inizia "),Nt,p(" una categoria ")])):w("",!0),(a(!0),r(_,null,C(t.category_scante,l=>(a(),r("div",{class:V(["tab border border-black",{"bg-blue-700":t.selectedVenueColor==="blue"||t.selectedVenueColor==="","bg-olive":t.selectedVenueColor==="green","bg-stone-500":t.selectedVenueColor==="gray","bg-enoteca":t.selectedVenueColor==="red","text-orange-500":t.selectedVenueColor==="gray"}])},[e("input",{type:"checkbox",name:"accordion-1",id:"cb"+l.id},null,8,Tt),e("label",{for:"cb"+l.id,class:"tab__label uppercase text-white text-center font-bold cursor-pointer"},u(l.name),9,Ot),e("div",Rt,[e("p",null,u(),1)])],2))),256))]),e("section",Bt,[e("div",{class:V(["p-5 w-4/5 border-2 border-black rounded-t-2xl uppercase text-white text-center font-bold cursor-pointer",{"bg-blue-700":t.selectedVenueColor==="blue"||t.selectedVenueColor==="","bg-olive":t.selectedVenueColor==="green","bg-stone-500":t.selectedVenueColor==="gray","bg-enoteca":t.selectedVenueColor==="red","text-orange-500":t.selectedVenueColor==="gray"}])},"aggiungi categorie",2),e("div",Ut,[e("form",{class:"flex justify-between items-center",onSubmit:o[1]||(o[1]=R(l=>s.createCategory(s.category,2),["prevent"]))},[y(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s.category.name=l),type:"text",placeholder:"Nome categoria",id:"inputCategory"},null,512),[[k,s.category.name]]),Ft],32)])])]))}}),qt=$(Ht,[["__scopeId","data-v-50bd1b16"]]),Kt={props:{value:Boolean},methods:{toggleSwitch(t){this.$emit("input",t.target.checked),this.$emit("switchChanged",t.target.checked)}}},Jt=t=>(z("data-v-24c678d5"),t=t(),N(),t),Zt={class:"switch"},Qt=["checked"],Gt=Jt(()=>e("span",{class:"slider round"},null,-1));function Wt(t,s,o,l,i,n){return a(),r("label",Zt,[e("input",{type:"checkbox",checked:o.value,onChange:s[0]||(s[0]=(...m)=>n.toggleSwitch&&n.toggleSwitch(...m))},null,40,Qt),Gt])}const F=$(Kt,[["render",Wt],["__scopeId","data-v-24c678d5"]]),Yt={props:{options:{type:Array,required:!0},defaultLabel:{type:String,default:"Select multiple"},selected:{type:Array,default:()=>[]}},data:function(){return{search:""}},mounted(){this.setupMenu(),this.setupOptions()},methods:{setupMenu(){this.$el.querySelectorAll(".js-select-menu").forEach(t=>{t.addEventListener("click",function(){var s=t.querySelector(".js-menu-state");s.checked&&document.addEventListener("mouseup",function o(l){t.contains(l.target)||(s.checked=!1),document.removeEventListener("mouseup",o)})})})},setupOptions(){this.$el.querySelectorAll(".js-option").forEach(t=>{t.addEventListener("change",function(){var s=t.closest(".js-select-options"),o=s.querySelectorAll(".js-option:checked ~ span"),l=s.previousElementSibling;if(!o.length){l.setAttribute("data-label",l.getAttribute("data-default-label"));return}var i=Array.from(o).map(function(n){return n.textContent}).join(", ");l.setAttribute("data-label",i)})})},handleOptionChange(t){this.$emit("changeOption",t),this.$emit("updateComponent",t)},isSelected(t){return this.selected.includes(t.id)}},computed:{filteredOptions(){if(!this.search)return this.options;const t=this.search.toLowerCase();return this.options.filter(s=>s.name.toLowerCase().includes(t))}}},Xt={class:"select-menu js-select-menu",id:"unique-id"},es=e("input",{class:"menu-state js-menu-state",id:"unique-id-menu-state",type:"checkbox"},null,-1),ts=["data-default-label","data-label"],ss=e("div",{class:"arrow"},null,-1),os=[ss],is={class:"menu js-select-options"},ls={class:"menu-item filter"},ns=["data-filter-criteria"],as={class:"menu-item"},rs=["value","checked","onChange"],ds=e("div",{class:"choice-input"},null,-1);function cs(t,s,o,l,i,n){return a(),r("div",Xt,[es,e("label",{class:"select-label js-select-label","data-default-label":o.defaultLabel,"data-label":o.defaultLabel,for:"unique-id-menu-state"},os,8,ts),e("ul",is,[e("li",ls,[y(e("input",{class:"js-filter-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=m=>t.search=m),placeholder:"Search"},null,512),[[k,t.search]])]),(a(!0),r(_,null,C(n.filteredOptions,(m,v)=>(a(),r("li",{key:v,class:"js-filterable","data-filter-criteria":m.text},[e("label",as,[e("input",{class:"checkbox js-option",type:"checkbox",value:m,checked:n.isSelected(m),onChange:x=>n.handleOptionChange(m)},null,40,rs),ds,e("span",null,u(m.name),1)])],8,ns))),128))])])}const Z=$(Yt,[["render",cs]]),hs={name:"ShowEditDish",props:["selectedDish","showModalDish","allergens","allergensDishes","pairingsEnoteca","drinks","newDrinko"],components:{ButtonCss:P,ModalAction:E,SwitchButton:F,SelectMultiple:Z},emits:["showModalDish","deleteDish","matchAllergens"],data(){return{imagePreview:null,showModalEditName:!1,showModalDeleteDish:!1,showModalEditPrice:!1,showModalEditDescription:!1,showModalEditImg:!1,showModalEditPairings:!1,dishIdToDelete:null,copySelectedDish:null,arrayAllergens:this.allergensDishes,pairings:[],localComponentAllergen:0,selectedDishDrinks:[],newPairings:null}},methods:{showModalDish(){this.$emit("showModalDish")},openDeleteModalDish(t){this.dishIdToDelete=t,this.showModalDeleteDish=!0},confirmDeleteDish(t){this.$emit("deleteDish",t),this.showModalDeleteDish=!1},matchAllergens(t,s){this.$emit("matchAllergens",t,s)},isAllergenMatched(t){const s=this.allergensDishes.find(o=>o.id===t);return s?s.dishes.some(o=>o.pivot.dish_id===this.selectedDish.id):!1},openInputName(){this.showModalEditName=!0},confirmEditName(t){this.selectedDish.name=t.name,f.put(`/api/dishes/${this.selectedDish.id}`,{name:t.name}),this.showModalEditName=!1},openInputPrice(){this.showModalEditPrice=!0},confirmEditPrice(t){this.selectedDish.price=t.price,f.put(`/api/dishes/${this.selectedDish.id}`,{price:t.price}),this.showModalEditPrice=!1},openInputDescription(){this.showModalEditDescription=!0},confirmEditDescription(t){this.selectedDish.description=t.description,f.put(`/api/dishes/${this.selectedDish.id}`,{description:t.description}),this.showModalEditDescription=!1},openInputImg(){this.showModalEditImg=!0},confirmEditImg(t){let s=null;const o=new FormData,l=document.querySelector("#editImg");console.log(l.files[0]),l.files[0]&&o.append("image",l.files[0]),o.append("_method","PUT"),f.post(`/api/dishes/${this.selectedDish.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{let n=i.data;n=n.substring(n.indexOf("{")),s=JSON.parse(n),this.selectedDish.image=s.image}).catch(i=>{console.error(i)}),this.showModalEditImg=!1},updatePairings(t){f.get(`/api/dishes/${t}/drinks`).then(s=>{this.pairings=s.data.pairingsEnoteca}).catch(s=>{console.error(s)})},previewImage(t){const s=t.target.files[0];if(s){const o=new FileReader;o.onload=l=>{this.imagePreview=l.target.result},o.readAsDataURL(s)}},updateIsShowStatus(t,s){f.put(`/api/dishes/${t}`,{is_active:s}).then(o=>{this.selectedDish.is_active=o.data.is_active}).catch(o=>{console.log(o)})},openEditPairings(){this.showModalEditPairings=!0},toggleDrink(t){this.pairings=this.pairings.map(s=>{if(s.id===this.selectedDish.id){const o=s.drinks.findIndex(l=>l.id===t.id);o!==-1?s.drinks.splice(o,1):s.drinks.push(t)}return s})},confirmEditPairings(t){const s=this.pairings.filter(o=>o.id===t.id).map(o=>o.drinks.map(l=>l.id)).flat();f.put(`/api/dishes/${t.id}/drinks`,{drink_id:s}).then(o=>{this.updatePairings(t.id)}).catch(o=>{console.error(o)}),this.showModalEditPairings=!1},updateDrinks(){f.get("/api/drinks").then(t=>{this.newPairings=t.data}).catch(t=>{console.error(t)})}},computed:{activeAllergens(){return this.allergens.filter(t=>t.is_active)},selectedDishDrinks(){const t=this.pairings.find(o=>o.id===this.selectedDish.id);return!t||!t.drinks?[]:t.drinks.map(o=>o.id)}},mounted(){this.copySelectedDish=Object.assign({},this.selectedDish),this.updatePairings(this.copySelectedDish.id),this.updateDrinks()},watch:{componentAllergen(t){this.localComponentAllergen=t}}},S=t=>(z("data-v-b77bd409"),t=t(),N(),t),us={class:"h-20 flex justify-between items-center font-bold text-2xl border border-3 border-black px-5"},gs={class:"text-4xl uppercase text-red-500"},ps={class:"h-10 flex justify-between items-center border border-3 border-t-0 border-black px-5"},fs={class:"font-bold text-xl"},ms={class:"grid-show-dish"},bs={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"nome"}},_s={class:"flex gap-2"},vs=S(()=>e("div",{class:"font-black uppercase"}," nome: ",-1)),ws={class:"font-bold uppercase text-red-500"},ys={class:"min-h-30 p-2 border-2 border-black",style:{"grid-area":"immagine"}},ks={class:"flex justify-between items-center"},xs=S(()=>e("span",{class:"font-black me-2 uppercase"}," immagine ",-1)),Ds=["src","alt"],Cs={class:"h-fit flex items-center p-2 border-2 border-black",style:{"grid-area":"allergeni"}},$s=S(()=>e("span",{class:"font-black me-2 uppercase"}," Allergeni: ",-1)),Ms={key:0,class:"flex gap-2"},As=["id","onClick"],Is=["src","alt"],Es={key:1,class:"w-full ps-2 font-black uppercase text-red-600 underline decoration-4 underline-offset-4 text-center"},Ss={class:"h-fit p-2 border-2 border-black",style:{"grid-area":"consigli"}},Vs={class:"w-full flex justify-between items-center font-black uppercase"},js={class:"uppercase font-semibold text-red-500"},Ps={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"prezzo"}},zs={class:"flex gap-2"},Ns=S(()=>e("div",{class:"font-black uppercase"}," prezzo: ",-1)),Ts={class:"font-bold uppercase text-red-500"},Os={class:"h-fit p-2 border-2 border-black",style:{"grid-area":"abbinamenti"}},Rs={class:"flex gap-2 justify-between items-center"},Bs=S(()=>e("div",{class:"font-black uppercase"}," abbinamenti ",-1)),Us={class:"flex gap-2"},Fs={key:0,class:"px-4 py-1 border border-3 border-black rounded-full"},Ls={class:"button_delete"},Hs={key:0,class:"z-50"},qs={class:"h-20 font-bold text-2xl text-center"},Ks={class:"flex w-100 justify-between p-5"},Js={key:1,class:"z-50"},Zs=S(()=>e("h2",{class:"font-bold text-2xl text-center"}," Modifica il nome del piatto: ",-1)),Qs={class:"text-xl pb-4 first-letter:uppercase mb-8"},Gs={class:"text-red-500 text-xl"},Ws=S(()=>e("label",{for:"name",class:"font-bold text-xl"},"Nome:",-1)),Ys={class:"flex w-full justify-between py-5"},Xs={key:2,class:"z-50"},eo=S(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica il prezzo del piatto: ",-1)),to={class:"text-xl pb-4 first-letter:uppercase mb-8"},so={class:"text-red-500 text-xl"},oo=S(()=>e("label",{for:"name",class:"font-bold text-xl"},"Nome:",-1)),io={class:"flex w-full justify-between py-5"},lo={key:3,class:"z-50"},no=S(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica i consigli del piatto: ",-1)),ao={class:"text-xl pb-4 first-letter:uppercase mb-8"},ro={class:"text-red-500 text-xl"},co=S(()=>e("label",{for:"name",class:"font-bold text-xl"},"Consiglio:",-1)),ho={class:"flex w-full justify-between py-5"},uo={key:4,class:"z-50"},go=S(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica l'immagine del piatto: ",-1)),po={class:"text-xl pb-4 first-letter:uppercase mb-8"},fo={key:0},mo={key:1},bo={class:"container-edit-img"},_o=["src","alt"],vo=S(()=>e("label",{for:"name",class:"font-bold text-xl"},"Immagine:",-1)),wo={class:"flex w-full justify-between py-5"},yo={key:5,class:"z-50 container-editing-parings"},ko=S(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica Gli abbinamenti del piatto: ",-1)),xo={class:"text-xl pb-4 first-letter:uppercase mb-8"},Do=S(()=>e("span",null," Abbinamenti attuali: ",-1)),Co={class:"flex gap-2"},$o={key:0,class:"px-4 py-1 border border-3 border-black rounded-full"},Mo=S(()=>e("label",{for:"name",class:"font-bold text-xl"},"Abbinamenti:",-1)),Ao={class:"flex w-full justify-between py-5"};function Io(t,s,o,l,i,n){const m=A("SwitchButton"),v=A("ButtonCss"),x=A("ModalAction"),h=A("SelectMultiple");return a(),r(_,null,[e("button",{class:"absolute top-5 right-5",onClick:s[0]||(s[0]=d=>n.showModalDish())},"❌"),(a(),r("div",{class:"container-dish-show",key:i.localComponentAllergen},[e("h2",us,[p(" Scheda del piatto: "),e("span",gs,u(o.selectedDish.name),1),c(m,{value:o.selectedDish.is_active===1||o.selectedDish.is_active===!0,onSwitchChanged:s[1]||(s[1]=d=>n.updateIsShowStatus(o.selectedDish.id,d))},null,8,["value"])]),e("div",ps,[e("span",fs,"ID Database: "+u(o.selectedDish.id),1)]),e("div",ms,[e("div",bs,[e("div",_s,[vs,e("span",ws,u(o.selectedDish.name),1)]),c(v,{onClick:s[2]||(s[2]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",ys,[e("div",ks,[xs,c(v,{onClick:s[3]||(s[3]=d=>n.openInputImg())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("img",{src:o.selectedDish.image==="null"?"img/defaultDish.jpg":"/storage/"+o.selectedDish.image,alt:o.selectedDish.name+" image",class:"h-image my-2 border border-3 border-black object-cover"},null,8,Ds)]),e("div",Cs,[$s,n.activeAllergens.length?(a(),r("ul",Ms,[(a(!0),r(_,null,C(n.activeAllergens,d=>(a(),r("li",{key:d.id,class:V(["rounded-full cursor-pointer",{"opacity-100":n.isAllergenMatched(d.id),"opacity-20":!n.isAllergenMatched(d.id)}]),id:`${o.selectedDish.id}-${d.id}`,onClick:b=>n.matchAllergens(o.selectedDish.id,d.id)},[e("img",{src:"/storage/"+d.icon,alt:d.name+" icon",class:"object-contain w-10 h-10 rounded-full border border-3 border-black"},null,8,Is)],10,As))),128))])):(a(),r("div",Es," Non sono presenti allergeni attivi "))]),e("div",Ss,[e("div",Vs,[p(" Consigli: "),c(v,{onClick:s[4]||(s[4]=d=>n.openInputDescription())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("span",js,u(o.selectedDish.description==="undefined"?"Non ci sono consigli in questo piatto al momento":o.selectedDish.description),1)]),e("div",Ps,[e("div",zs,[Ns,e("span",Ts,u(o.selectedDish.price),1)]),c(v,{onClick:s[5]||(s[5]=d=>n.openInputPrice())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",Os,[e("div",Rs,[Bs,c(v,{onClick:s[6]||(s[6]=d=>n.openEditPairings())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("ul",Us,[(a(!0),r(_,null,C(i.pairings,d=>(a(),r(_,null,[(a(!0),r(_,null,C(d.drinks,b=>(a(),r(_,null,[d.id===o.selectedDish.id&&(b.is_active===!0||b.is_active===1)?(a(),r("li",Fs,u(b.name),1)):w("",!0)],64))),256))],64))),256))])])]),e("div",Ls,[e("div",{onClick:s[7]||(s[7]=d=>n.openDeleteModalDish(o.selectedDish.id)),class:"p-2 rounded-2xl text-center text-white uppercase font-extrabold bg-red-600 cursor-pointer"}," Elimina piatto: "+u(o.selectedDish.name),1)])])),i.showModalDeleteDish?(a(),r("div",Hs,[c(x,{showModal:i.showModalDeleteDish,selectedDish:o.selectedDish},{default:g(()=>[e("h2",qs," Sei sicuro di voler eliminare il piatto: "+u(o.selectedDish.name)+"? ",1),e("div",Ks,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[8]||(s[8]=d=>n.confirmDeleteDish(o.selectedDish.id))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[9]||(s[9]=d=>i.showModalDeleteDish=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0),i.showModalEditName?(a(),r("div",Js,[c(x,{showModal:i.showModalEditName,selectedDish:o.selectedDish},{default:g(()=>[Zs,e("div",Qs,[p(" nome attuale: "),e("span",Gs,u(o.selectedDish.name),1)]),Ws,y(e("input",{type:"text",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[10]||(s[10]=d=>i.copySelectedDish.name=d)},null,512),[[k,i.copySelectedDish.name]]),e("div",Ys,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[11]||(s[11]=d=>n.confirmEditName(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[12]||(s[12]=d=>i.showModalEditName=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0),i.showModalEditPrice?(a(),r("div",Xs,[c(x,{showModal:i.showModalEditPrice,selectedDish:o.selectedDish},{default:g(()=>[eo,e("div",to,[p(" prezzo attuale: "),e("span",so,u(o.selectedDish.price)+" € ",1)]),oo,y(e("input",{type:"number",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[13]||(s[13]=d=>i.copySelectedDish.price=d)},null,512),[[k,i.copySelectedDish.price]]),e("div",io,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[14]||(s[14]=d=>n.confirmEditPrice(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[15]||(s[15]=d=>i.showModalEditPrice=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0),i.showModalEditDescription?(a(),r("div",lo,[c(x,{showModal:i.showModalEditDescription,selectedDish:o.selectedDish},{default:g(()=>[no,e("div",ao,[p(" descrizione attuale: "),e("span",ro,u(o.selectedDish.description),1)]),co,y(e("input",{type:"text",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[16]||(s[16]=d=>i.copySelectedDish.description=d)},null,512),[[k,i.copySelectedDish.description]]),e("div",ho,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[17]||(s[17]=d=>n.confirmEditDescription(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[18]||(s[18]=d=>i.showModalEditDescription=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0),i.showModalEditImg?(a(),r("div",uo,[c(x,{showModal:i.showModalEditImg,selectedDish:o.selectedDish},{default:g(()=>[go,e("div",po,[i.imagePreview===null?(a(),r("span",fo," Immagine attuale: ")):(a(),r("span",mo," Anteprima Immagine: ")),e("span",bo,[e("img",{src:i.imagePreview!=null?i.imagePreview:"img/defaultDish.jpg",alt:o.selectedDish.name+" image",class:"object-img my-2 border border-3 border-black object-cover"},null,8,_o)])]),vo,e("input",{id:"editImg",type:"file",onChange:s[19]||(s[19]=(...d)=>n.previewImage&&n.previewImage(...d)),class:"w-full border-1 border-black rounded"},null,32),e("div",wo,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[20]||(s[20]=d=>n.confirmEditImg(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[21]||(s[21]=d=>i.showModalEditImg=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0),i.showModalEditPairings?(a(),r("div",yo,[c(x,{showModal:i.showModalEditPairings,selectedDish:o.selectedDish},{default:g(()=>[ko,e("div",xo,[Do,e("ul",Co,[(a(!0),r(_,null,C(i.pairings,d=>(a(),r(_,null,[(a(!0),r(_,null,C(d.drinks,b=>(a(),r(_,null,[d.id===o.selectedDish.id?(a(),r("li",$o,u(b.name),1)):w("",!0)],64))),256))],64))),256))])]),Mo,c(h,{ref:"selectMultiple",options:i.newPairings,selected:n.selectedDishDrinks,onUpdateComponent:n.toggleDrink,defaultLabel:"Abbinamenti",style:{"text-transform":"uppercase"}},null,8,["options","selected","onUpdateComponent"]),e("div",Ao,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[22]||(s[22]=d=>n.confirmEditPairings(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[23]||(s[23]=d=>i.showModalEditPairings=!1)},"Annulla")])]),_:1},8,["showModal","selectedDish"])])):w("",!0)],64)}const se=$(hs,[["render",Io],["__scopeId","data-v-b77bd409"]]),J="/build/assets/defaultDish-iJt0Ik_p.jpg",j=t=>(z("data-v-08542c18"),t=t(),N(),t),Eo={key:0,class:"p-3"},So=j(()=>e("strong",{class:"uppercase"},"aggiungendo",-1)),Vo={key:0,class:"tab category bg-white"},jo={class:"flex max-h-20 bg-white justify-evenly items-center gap-3 p-2"},Po=["onClick"],zo=["onClick"],No=["id"],To=["for"],Oo={class:"rounded-2xl text-black w-20 h-8 bg-white p-1 flex justify-center items-center"},Ro=j(()=>e("span",{class:"tab__label__arrow"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})])],-1)),Bo={class:"tab__content bg-white"},Uo={class:"max-w-full"},Fo=["onClick"],Lo={class:"flex"},Ho=["src"],qo={class:"flex flex-col name"},Ko={class:"first-letter:uppercase text-bold"},Jo={class:"flex flex-col price"},Zo={class:"text-bold"},Qo=["onClick"],Go=j(()=>e("div",{class:"font-bold text-lg"},"➕",-1)),Wo=j(()=>e("span",null,"Aggiungi piatto",-1)),Yo=[Go,Wo],Xo={class:"modal-confirm relative"},ei=j(()=>e("h2",{class:"h-16 font-bold text-2xl text-center"}," Aggiungi nuovo piatto ",-1)),ti={class:"grid-show-dish"},si={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"nome"}},oi={class:"w-full flex flex-col gap-2"},ii=j(()=>e("div",{class:"font-black uppercase"}," nome: ",-1)),li=["placeholder"],ni={class:"min-h-30 p-2 border-2 border-black",style:{"grid-area":"immagine"}},ai={class:"flex flex-col justify-between items-start"},ri=j(()=>e("span",{class:"font-black me-2 uppercase"}," immagine ",-1)),di=["src"],ci={class:"h-fit flex items-center p-2 border-2 border-black",style:{"grid-area":"allergeni"}},hi=j(()=>e("span",{class:"font-black me-2 uppercase"}," Allergeni: ",-1)),ui={class:"flex gap-2"},gi=["onClick"],pi=["src","alt","id"],fi={key:0,class:"w-full ps-2 font-black uppercase text-red-600 underline decoration-4 underline-offset-4 text-center"},mi={class:"h-fit p-2 border-2 border-black",style:{"grid-area":"consigli"}},bi=j(()=>e("div",{class:"w-full flex justify-between items-center font-black uppercase"}," Consigli: ",-1)),_i=["placeholder"],vi={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"prezzo"}},wi={class:"flex flex-col gap-2 w-full"},yi=j(()=>e("div",{class:"font-black uppercase"}," prezzo: ",-1)),ki=["placeholder"],xi={style:{"grid-area":"abbinamenti"}},Di=j(()=>e("p",null,"Aggiungi abbinamenti:",-1)),Ci={class:"flex w-full justify-center"},$i=j(()=>e("p",null," Aggiungi piatto ",-1)),Mi={class:"modal"},Ai=j(()=>e("h2",{class:"h-20 font-bold text-2xl text-center"},[p(" Sei sicuro di voler eliminare questa categoria? "),e("p",{class:"text-base"},"la cancellazione della categoria provvederà a cancellare TUTTI i piatti abbinati")],-1)),Ii={class:"flex w-100 justify-between p-5"},Ei={class:"modal"},Si=j(()=>e("h2",{class:"h-20 font-bold text-2xl text-center"}," Modifica categoria ",-1)),Vi=["placeholder"],ji={class:"flex w-100 justify-between p-5"},Pi={components:{Switch_button:F,ModalAction:E,ShowDish:se,ButtonCss:P},name:"Category",emits:["update:category_enoteca"],props:{category_enoteca:Array,selectedVenueColor:String,dish_enoteca_category:Array,allergens:Array,drinks:Array,allergensDishes:Array,is_drink:{type:Boolean,required:!0},pairingsEnoteca:Array},data(){return{categoryEnoteca:this.category_enoteca,keyComponentCategory:0,defaultImgDish:J,selectedAllergens:[],selectedDrinks:[],file:null,componentKeyli:0,showModalDish:!1,showDeleteModal:!1,showModalDeleteDish:!1,categoryToDelete:null,showEditModal:!1,categoryToEdit:null,categoryNameToEdit:null,showAddDishesModal:!1,dishToCreateId:null,dishTodeleteId:null,localCategory_enoteca:this.category_enoteca,localDishEnotecaCategory:[],allergensDishes:this.allergensDishes,isMatch:!1,imagePreview:null,arrayPairings:this.pairingsEnoteca,pairings:[],dishActive:[],newDrinko:this.newDrink}},methods:{deleteCategory(t){this.categoryToDelete=t,this.showDeleteModal=!0},confirmDelete(){f.delete(`/api/categories/${this.categoryToDelete}/dishes`).then(t=>{f.delete(`/api/categories/${this.categoryToDelete}`).then(s=>{const o=this.localCategory_enoteca.findIndex(l=>l.id===this.categoryToDelete);o!==-1&&this.localCategory_enoteca.splice(o,1),this.$emit("update:category_enoteca",this.localCategory_enoteca)}).catch(s=>{console.log(s)})}).catch(t=>{console.log(t)}),this.showDeleteModal=!1},editCategory(t){this.showEditModal=!0,this.categoryToEdit=t,this.categoryNameToEdit=this.localCategory_enoteca.find(s=>s.id===t).name},confirmEdit(t){f.put(`/api/categories/${this.categoryToEdit}`,{name:t}).then(s=>{const o=this.localCategory_enoteca.findIndex(l=>l.id===this.categoryToEdit);o!==-1&&(this.localCategory_enoteca[o].name=t),this.category=s.data}).catch(s=>{console.log(s)}),this.showEditModal=!1},updateIsShowStatus(t,s){f.put(`/api/categories/${t}`,{is_active:s}).then(o=>{this.categoryEnoteca=this.categoryEnoteca.map(l=>(l.id===t&&(l.is_active=s),l))}).catch(o=>{console.log(o)})},onFileChange(t){this.files=t.target.files||t.dataTransfer.files,this.files.length&&(this.file=this.files[0],this.createImage(this.files[0]))},createImage(t){let s=new FileReader,o=this;s.onload=l=>{o.imagePreview=l.target.result},s.readAsDataURL(t)},toggleAllergen(t){const s=document.getElementById(t),o=this.selectedAllergens.indexOf(t);o===-1?(s.classList.add("bg-olive"),this.selectedAllergens.push(t)):(s.classList.remove("bg-olive"),this.selectedAllergens.splice(o,1))},addDishes(t){this.showAddDishesModal=!0,this.dishToCreateId=t},confirmAddDishes(){let t=new FormData;t.append("name",this.dish_enoteca_category.name),t.append("description",this.dish_enoteca_category.description),t.append("price",this.dish_enoteca_category.price),t.append("image",this.file),t.append("category_id",this.dishToCreateId),t.append("venue_id",3),f.post(`/api/dishes/${this.dishToCreateId}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{let o;if(typeof s.data=="string"){let i=s.data;i=i.substring(i.indexOf("{")),o=JSON.parse(i)}else o=s.data;let l=this.category_enoteca.find(i=>i.id===this.dishToCreateId);l&&(l.dishes||(l.dishes=[]),l.dishes.push(o),this.dishToCreateId=""),this.$emit("dishAdded"),this.componentKeyli++,this.showAddDishesModal=!1,this.selectedAllergens.forEach(i=>{this.matchAllergens(o.id,i)}),this.selectedAllergens=[],this.selectedDrinks.forEach(i=>{this.matchDrink(o.id,i)}),this.selectedDrinks=[],this.dish_enoteca_category.name="",this.dish_enoteca_category.description="",this.dish_enoteca_category.price=null,this.file=null,this.imagePreview=null}).catch(s=>{console.log("ERRORE AHI AHI AHI: "+s)})},matchAllergens(t,s){this.allergensDishes.some(l=>l.id===s&&l.dishes.some(i=>i.pivot.dish_id===t))?f.delete(`/api/allergens/${s}/dishes/${t}`).then(()=>{const l=this.allergensDishes.findIndex(n=>n.id===s),i=this.allergensDishes[l].dishes.findIndex(n=>n.pivot.dish_id===t);this.allergensDishes[l].dishes.splice(i,1)}).catch(l=>{console.log(l)}):f.post(`/api/allergens/${s}/dishes`,{dish_id:t}).then(()=>{const l=this.allergensDishes.findIndex(i=>i.id===s);this.allergensDishes[l].dishes.push({pivot:{dish_id:t}})}).catch(l=>{console.log(l)})},matchDrink(t,s){f.post(`/api/dishes/${t}/drinks`,{drink_id:s.id}).then(o=>{this.pairings.push(o.data)}).catch(o=>{console.log(o)})},getDishName(t){for(let s of this.localDishEnotecaCategory){let o=s.dishes.find(l=>l.id===t);if(o)return o.name}return"Non trovato"},confirmDeleteDish(t){f.delete(`/api/dishes/${t}`).then(()=>{for(let s of this.category_enoteca){let o=s.dishes.findIndex(l=>l.id===t);o!==-1&&s.dishes.splice(o,1)}this.showModalDish=!1}).catch(s=>{console.log(s)})},openShowDish(t){this.selectedDish=t,this.showModalDish=!this.showModalDish},addDrink(t){if(t){let s=this.selectedDrinks.indexOf(t);s===-1?this.selectedDrinks.push(t):this.selectedDrinks.splice(s,1)}}},created(){this.localDishEnotecaCategory=this.category_enoteca.map(t=>{let s=this.dish_enoteca_category.filter(o=>o.category_id===t.id);return{...t,dishes:s}}),this.allergenDishes=this.allergensDishes},computed:{isFormFilled(){return this.dish_enoteca_category.name&&this.dish_enoteca_category.price},activeDishesCount(){let t={};return this.category_enoteca.forEach(s=>{let o=s.dishes?s.dishes.filter(l=>l.is_active):[];t[s.id]=o.length}),t}},mounted(){console.log(this.newDrink)},watch:{newDrink(t){this.newDrinko=t}}},zi=Object.assign(Pi,{props:{selectedVenueName:String,pairingsEnoteca:Array,selectedVenueColor:String,category_enoteca:Array,dish_enoteca_category:Array,allergens:Array,allergensDishes:Array,drinks:Array,newDrink:Array},setup(t){return(s,o)=>{const l=A("SelectMultiple");return a(),r(_,null,[(a(),r("section",{class:"overflow-x-hidden mx-4",key:s.keyComponentCategory},[t.category_enoteca.some(i=>!i.is_drink)?w("",!0):(a(),r("h2",Eo,[p(" ⭐ Inizia "),So,p(" una categoria food ")])),(a(!0),r(_,null,C(s.categoryEnoteca,i=>(a(),r("div",{class:"last:mb-10 last:border-b-2 border-l-2 border-r-2 border-black",key:i.id},[i.is_drink?w("",!0):(a(),r("div",Vo,[e("div",jo,[e("button",{onClick:n=>s.deleteCategory(i.id)},"❌",8,Po),e("button",{onClick:n=>s.editCategory(i.id)},"Edit",8,zo),c(F,{value:i.is_active===1||i.is_active===!0,onSwitchChanged:n=>s.updateIsShowStatus(i.id,n)},null,8,["value","onSwitchChanged"])]),(a(),r("div",{class:V(["p-2",{"bg-blue-700":t.selectedVenueColor==="blue"||t.selectedVenueColor==="","bg-olive":t.selectedVenueColor==="green","bg-stone-500":t.selectedVenueColor==="gray","bg-enoteca":t.selectedVenueColor==="red","text-orange-500":t.selectedVenueColor==="gray"}]),key:s.componentKeyli},[e("input",{type:"checkbox",name:"accordion-1",id:"cb"+i.id},null,8,No),e("label",{for:"cb"+i.id,class:"tab__label uppercase text-white font-bold cursor-pointer"},[e("span",Oo,u(s.activeDishesCount[i.id])+" / "+u(i.dishes?i.dishes.length:0),1),p(),e("span",null,u(i.name),1),Ro],8,To),e("div",Bo,[e("ul",Uo,[(a(!0),r(_,null,C(i.dishes,n=>(a(),r("li",{key:n.id,class:"border-b-2 border-black p-2"},[e("div",{class:V(["w-full h-full",n.is_active?"opacity-100":"opacity-20"])},[e("div",{onClick:m=>s.openShowDish(n),class:"container-dishes px-3 cursor-pointer"},[e("div",Lo,[e("img",{src:n.image=="null"?"img/defaultDish.jpg":"/storage/"+n.image,alt:"dish image",class:"sm:max-h-32 md:max-h-40 object-cover p-1"},null,8,Ho)]),e("div",qo,[e("span",Ko,u(n.name),1)]),e("div",Jo,[e("span",Zo,u(n.price)+" €",1)])],8,Fo)],2)]))),128))]),e("div",{type:"button",onClick:n=>s.addDishes(i.id),class:"p-4 flex justify-start items-center gap-2 cursor-pointer"},Yo,8,Qo)])],2))]))]))),128))])),(a(),U(E,{showModal:s.showAddDishesModal,key:s.keyComponent},{default:g(()=>[e("div",Xo,[c(P,{hoverColor:"#DC2626",onClick:o[0]||(o[0]=i=>s.showAddDishesModal=!1),style:{position:"absolute",right:"-10px",top:"-20px"}},{default:g(()=>[p(" ❌ ")]),_:1}),ei,e("form",{onSubmit:o[5]||(o[5]=R((...i)=>s.confirmAddDishes&&s.confirmAddDishes(...i),["prevent"]))},[e("div",ti,[e("div",si,[e("div",oi,[ii,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[1]||(o[1]=i=>t.dish_enoteca_category.name=i),placeholder:t.dish_enoteca_category.name},null,8,li),[[k,t.dish_enoteca_category.name]])])]),e("div",ni,[e("div",ai,[ri,e("input",{type:"file",onChange:o[2]||(o[2]=(...i)=>s.onFileChange&&s.onFileChange(...i)),accept:"image/*"},null,32)]),e("img",{src:s.imagePreview===null?H(J):s.imagePreview,class:"h-image my-2 border border-3 border-black object-cover"},null,8,di)]),e("div",ci,[hi,e("ul",ui,[(a(!0),r(_,null,C(t.allergens,i=>(a(),r(_,null,[i.is_active?(a(),r("li",{class:"rounded-full cursor-pointer",onClick:n=>s.toggleAllergen(i.id),key:i.id},[e("img",{src:"/storage/"+i.icon,alt:i.name+" icon",id:i.id,class:"object-scale-down w-10 h-10 rounded-full border border-3 border-black"},null,8,pi)],8,gi)):w("",!0)],64))),256)),t.allergens.some(i=>i.is_active)?w("",!0):(a(),r("li",fi," Non sono presenti allergeni attivi "))])]),e("div",mi,[bi,y(e("input",{class:"w-full h-16",type:"text","onUpdate:modelValue":o[3]||(o[3]=i=>t.dish_enoteca_category.description=i),placeholder:t.dish_enoteca_category.description},null,8,_i),[[k,t.dish_enoteca_category.description]])]),e("div",vi,[e("div",wi,[yi,y(e("input",{class:"w-full h-8",type:"number","onUpdate:modelValue":o[4]||(o[4]=i=>t.dish_enoteca_category.price=i),placeholder:t.dish_enoteca_category.price},null,8,ki),[[k,t.dish_enoteca_category.price]])])]),e("div",xi,[Di,c(l,{options:t.drinks&&s.newDrinkPairings,onUpdateComponent:s.addDrink,defaultLabel:"Abbinamenti",style:{"text-transform":"uppercase"}},null,8,["options","onUpdateComponent"])])]),e("div",Ci,[c(P,{disabled:!s.isFormFilled,hoverColor:"#00FF00",type:"submit",style:{width:"100%"}},{default:g(()=>[$i]),_:1},8,["disabled"])])],32)])]),_:1},8,["showModal"])),c(E,{showModal:s.showDeleteModal},{default:g(()=>[e("div",Mi,[Ai,e("div",Ii,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:o[6]||(o[6]=i=>s.confirmDelete())},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:o[7]||(o[7]=i=>s.showDeleteModal=!1)},"Annulla")])])]),_:1},8,["showModal"]),c(E,{showModal:s.showEditModal},{default:g(()=>[e("div",Ei,[Si,y(e("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=i=>t.category_enoteca.name=i),placeholder:t.category_enoteca.name},null,8,Vi),[[k,t.category_enoteca.name]]),e("div",ji,[e("button",{onClick:o[9]||(o[9]=i=>{console.log("Button clicked"),s.confirmEdit(t.category_enoteca.name)})},"edit"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:o[10]||(o[10]=i=>s.showEditModal=!1)},"Annulla")])])]),_:1},8,["showModal"]),c(E,{showModal:s.showModalDish},{default:g(()=>[c(se,{selectedDish:s.selectedDish,allergens:t.allergens,allergensDishes:s.allergensDishes,category_enoteca:t.category_enoteca,dish_enoteca_category:t.dish_enoteca_category,pairingsEnoteca:t.pairingsEnoteca,pairings:s.pairings,drinks:t.drinks,newDrinko:s.newDrinko,onShowModalDish:o[11]||(o[11]=i=>s.showModalDish=!1),onDeleteDish:s.confirmDeleteDish,onMatchAllergens:s.matchAllergens},null,8,["selectedDish","allergens","allergensDishes","category_enoteca","dish_enoteca_category","pairingsEnoteca","pairings","drinks","newDrinko","onDeleteDish","onMatchAllergens"])]),_:1},8,["showModal"])],64)}}}),oe=$(zi,[["__scopeId","data-v-08542c18"]]),Ni={name:"ShowEditDish",props:["selectedDrink","showModalDrink","allergens","allergensDrinks","pairingsEnoteca","drinks"],components:{ButtonCss:P,ModalAction:E,SwitchButton:F,SelectMultiple:Z},emits:["showModalDrink","deleteDish","matchDish"],data(){return{imagePreview:null,showModalEditName:!1,showModalDeleteDish:!1,showModalEditPrice:!1,showModalEditDescription:!1,showModalEditImg:!1,showModalEditPairings:!1,dishIdToDelete:null,copySelectedDish:null,arrayAllergens:this.allergensDrinks,pairings:[],localComponentAllergen:0,selectedDishDrinks:[]}},methods:{showModalDrink(){this.$emit("showModalDrink")},openDeleteModalDish(t){this.dishIdToDelete=t,this.showModalDeleteDish=!0},confirmDeleteDish(t){this.$emit("deleteDish",t),this.showModalDeleteDish=!1},matchDish(t,s){this.$emit("matchDish",t,s)},isAllergenMatched(t){const s=this.allergensDrinks.find(o=>o.id===t);return s?s.drinks.some(o=>o.pivot.drink_id===this.selectedDrink.id):!1},openInputName(){this.showModalEditName=!0},confirmEditName(t){this.selectedDrink.name=t.name,f.put(`/api/dishes/${this.selectedDrink.id}`,{name:t.name}),this.showModalEditName=!1},openInputPrice(){this.showModalEditPrice=!0},confirmEditPrice(t){this.selectedDrink.price=t.price,f.put(`/api/dishes/${this.selectedDrink.id}`,{price:t.price}),this.showModalEditPrice=!1},openInputDescription(){this.showModalEditDescription=!0},confirmEditDescription(t){this.selectedDrink.description=t.description,f.put(`/api/dishes/${this.selectedDrink.id}`,{description:t.description}),this.showModalEditDescription=!1},openInputImg(){this.showModalEditImg=!0},confirmEditImg(t){let s=null;const o=new FormData,l=document.querySelector("#editImg");console.log(l.files[0]),l.files[0]&&o.append("image",l.files[0]),o.append("_method","PUT"),f.post(`/api/drinks/${this.selectedDrink.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{let n=i.data;n=n.substring(n.indexOf("{")),s=JSON.parse(n),this.selectedDrink.image=s.image}).catch(i=>{console.error(i)}),this.showModalEditImg=!1},updatePairings(t){f.get(`/api/dishes/${t}/drinks`).then(s=>{this.pairings=s.data.pairingsEnoteca}).catch(s=>{console.error(s)})},previewImage(t){const s=t.target.files[0];if(s){const o=new FileReader;o.onload=l=>{this.imagePreview=l.target.result},o.readAsDataURL(s)}},updateIsShowStatus(t,s){f.put(`/api/drinks/${t}`,{is_active:s}).then(o=>{this.selectedDrink.is_active=o.data.is_active}).catch(o=>{console.log(o)})},openEditPairings(){this.showModalEditPairings=!0},toggleDrink(t){this.pairings=this.pairings.map(s=>{if(s.id===this.selectedDrink.id){const o=s.drinks.findIndex(l=>l.id===t.id);o!==-1?s.drinks.splice(o,1):s.drinks.push(t)}return s})},confirmEditPairings(t){const s=this.pairings.filter(o=>o.id===t.id).map(o=>o.drinks.map(l=>l.id)).flat();f.put(`/api/dishes/${t.id}/drinks`,{drink_id:s}).then(o=>{this.updatePairings(t.id)}).catch(o=>{console.error(o)}),this.showModalEditPairings=!1}},computed:{activeAllergens(){return this.allergens.filter(t=>t.is_active)},selectedDishDrinks(){const t=this.pairings.find(o=>o.id===this.selectedDrink.id);return!t||!t.drinks?[]:t.drinks.map(o=>o.id)}},mounted(){this.copySelectedDish=Object.assign({},this.selectedDrink),this.updatePairings(this.copySelectedDish.id)},watch:{componentAllergen(t){this.localComponentAllergen=t}}},M=t=>(z("data-v-529f5baa"),t=t(),N(),t),Ti={class:"h-20 flex justify-between items-center font-bold text-2xl border border-3 border-black px-5"},Oi={class:"text-4xl uppercase text-red-500"},Ri={class:"h-10 flex justify-between items-center border border-3 border-t-0 border-black px-5"},Bi={class:"font-bold text-xl"},Ui={class:"grid-show-drink"},Fi={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"nome"}},Li={class:"flex gap-2"},Hi=M(()=>e("div",{class:"font-black uppercase"}," nome: ",-1)),qi={class:"font-bold uppercase text-red-500"},Ki={class:"min-h-30 p-2 border-2 border-black",style:{"grid-area":"immagine"}},Ji={class:"flex justify-between items-center"},Zi=M(()=>e("span",{class:"font-black me-2 uppercase"}," immagine ",-1)),Qi=["src","alt"],Gi={class:"h-fit flex items-center p-2 border-2 border-black",style:{"grid-area":"allergeni"}},Wi=M(()=>e("span",{class:"font-black me-2 uppercase"}," Allergeni: ",-1)),Yi={key:0,class:"flex gap-2"},Xi=["id","onClick"],el=["src","alt"],tl={key:1,class:"w-full ps-2 font-black uppercase text-red-600 underline decoration-4 underline-offset-4 text-center"},sl={class:"h-fit p-2 border-2 border-black",style:{"grid-area":"consigli"}},ol={class:"w-full flex justify-between items-center font-black uppercase"},il={class:"uppercase font-semibold text-red-500"},ll={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"prezzo"}},nl={class:"flex gap-2"},al=M(()=>e("div",{class:"font-black uppercase"}," prezzo: ",-1)),rl={class:"font-bold uppercase text-red-500"},dl={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"gradi"}},cl={class:"flex gap-2"},hl=M(()=>e("div",{class:"font-black uppercase"}," gradi: ",-1)),ul={class:"font-bold uppercase text-red-500"},gl={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"colore"}},pl={class:"flex gap-2"},fl=M(()=>e("div",{class:"font-black uppercase"}," colore: ",-1)),ml={class:"font-bold uppercase text-red-500"},bl={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"produzione"}},_l={class:"flex gap-2"},vl=M(()=>e("div",{class:"font-black uppercase"}," metodo di produzione: ",-1)),wl={class:"font-bold uppercase text-red-500"},yl={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"sapore"}},kl={class:"flex gap-2"},xl=M(()=>e("div",{class:"font-black uppercase"}," sapore: ",-1)),Dl={class:"font-bold uppercase text-red-500"},Cl={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"ingredienti"}},$l={class:"flex gap-2"},Ml=M(()=>e("div",{class:"font-black uppercase"}," ingredienti: ",-1)),Al={class:"font-bold uppercase text-red-500"},Il={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"origine"}},El={class:"flex gap-2"},Sl=M(()=>e("div",{class:"font-black uppercase"}," origine: ",-1)),Vl={class:"font-bold uppercase text-red-500"},jl={class:"button_delete"},Pl={key:0,class:"z-50"},zl={class:"h-20 font-bold text-2xl text-center"},Nl={class:"flex w-100 justify-between p-5"},Tl={key:1,class:"z-50"},Ol=M(()=>e("h2",{class:"font-bold text-2xl text-center"}," Modifica il nome del drink: ",-1)),Rl={class:"text-xl pb-4 first-letter:uppercase mb-8"},Bl={class:"text-red-500 text-xl"},Ul=M(()=>e("label",{for:"name",class:"font-bold text-xl"},"Nome:",-1)),Fl={class:"flex w-full justify-between py-5"},Ll={key:2,class:"z-50"},Hl=M(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica il prezzo del drink: ",-1)),ql={class:"text-xl pb-4 first-letter:uppercase mb-8"},Kl={class:"text-red-500 text-xl"},Jl=M(()=>e("label",{for:"name",class:"font-bold text-xl"},"Nome:",-1)),Zl={class:"flex w-full justify-between py-5"},Ql={key:3,class:"z-50"},Gl=M(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica i consigli del drink: ",-1)),Wl={class:"text-xl pb-4 first-letter:uppercase mb-8"},Yl={class:"text-red-500 text-xl"},Xl=M(()=>e("label",{for:"name",class:"font-bold text-xl"},"Consiglio:",-1)),en={class:"flex w-full justify-between py-5"},tn={key:4,class:"z-50"},sn=M(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica l'immagine del drink: ",-1)),on={class:"text-xl pb-4 first-letter:uppercase mb-8"},ln={key:0},nn={key:1},an={class:"container-edit-img"},rn=["src","alt"],dn=M(()=>e("label",{for:"name",class:"font-bold text-xl"},"Immagine:",-1)),cn={class:"flex w-full justify-between py-5"},hn={key:5,class:"z-50"},un=M(()=>e("h2",{class:"font-bold text-2xl text-center pb-6"}," Modifica Gli abbinamenti del drink: ",-1)),gn={class:"text-xl pb-4 first-letter:uppercase mb-8"},pn=M(()=>e("span",null," Abbinamenti attuali: ",-1)),fn={class:"flex gap-2"},mn={key:0,class:"px-4 py-1 border border-3 border-black rounded-full"},bn=M(()=>e("label",{for:"name",class:"font-bold text-xl"},"Abbinamenti:",-1)),_n={class:"flex w-full justify-between py-5"};function vn(t,s,o,l,i,n){const m=A("SwitchButton"),v=A("ButtonCss"),x=A("ModalAction"),h=A("SelectMultiple");return a(),r(_,null,[e("button",{class:"absolute top-5 right-5",onClick:s[0]||(s[0]=d=>n.showModalDrink())},"❌"),(a(),r("div",{class:"container-drink-show",key:i.localComponentAllergen},[e("h2",Ti,[p(" Scheda del drink: "),e("span",Oi,u(o.selectedDrink.name),1),c(m,{value:o.selectedDrink.is_active===1||o.selectedDrink.is_active===!0,onSwitchChanged:s[1]||(s[1]=d=>n.updateIsShowStatus(o.selectedDrink.id,d))},null,8,["value"])]),e("div",Ri,[e("span",Bi,"ID Database: "+u(o.selectedDrink.id),1)]),e("div",Ui,[e("div",Fi,[e("div",Li,[Hi,e("span",qi,u(o.selectedDrink.name),1)]),c(v,{onClick:s[2]||(s[2]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",Ki,[e("div",Ji,[Zi,c(v,{onClick:s[3]||(s[3]=d=>n.openInputImg())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("img",{src:o.selectedDrink.image==="null"||o.selectedDrink.image==="undefined"?"img/defaultDish.jpg":"/storage/"+o.selectedDrink.image,alt:o.selectedDrink.name+" image",class:"h-image my-2 border border-3 border-black object-cover"},null,8,Qi)]),e("div",Gi,[Wi,n.activeAllergens.length?(a(),r("ul",Yi,[(a(!0),r(_,null,C(n.activeAllergens,d=>(a(),r("li",{key:d.id,class:V(["rounded-full cursor-pointer",{"opacity-100":n.isAllergenMatched(d.id),"opacity-20":!n.isAllergenMatched(d.id)}]),id:`${o.selectedDrink.id}-${d.id}`,onClick:b=>n.matchDish(o.selectedDrink.id,d.id)},[e("img",{src:"/storage/"+d.icon,alt:d.name+" icon",class:"object-contain w-10 h-10 rounded-full border border-3 border-black"},null,8,el)],10,Xi))),128))])):(a(),r("div",tl," Non sono presenti allergeni attivi "))]),e("div",sl,[e("div",ol,[p(" Consigli: "),c(v,{onClick:s[4]||(s[4]=d=>n.openInputDescription())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("span",il,u(o.selectedDrink.description==="undefined"?"Non ci sono consigli in questo drink al momento":o.selectedDrink.description),1)]),e("div",ll,[e("div",nl,[al,e("span",rl,u(o.selectedDrink.price),1)]),c(v,{onClick:s[5]||(s[5]=d=>n.openInputPrice())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",dl,[e("div",cl,[hl,e("span",ul,u(o.selectedDrink.degrees),1)]),c(v,{onClick:s[6]||(s[6]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",gl,[e("div",pl,[fl,e("span",ml,u(o.selectedDrink.color),1)]),c(v,{onClick:s[7]||(s[7]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",bl,[e("div",_l,[vl,e("span",wl,u(o.selectedDrink.production_method),1)]),c(v,{onClick:s[8]||(s[8]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",yl,[e("div",kl,[xl,e("span",Dl,u(o.selectedDrink.flavour),1)]),c(v,{onClick:s[9]||(s[9]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",Cl,[e("div",$l,[Ml,e("span",Al,u(o.selectedDrink.description),1)]),c(v,{onClick:s[10]||(s[10]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})]),e("div",Il,[e("div",El,[Sl,e("span",Vl,u(o.selectedDrink.origin),1)]),c(v,{onClick:s[11]||(s[11]=d=>n.openInputName())},{default:g(()=>[p(" Modifica ")]),_:1})])]),e("div",jl,[e("div",{onClick:s[12]||(s[12]=d=>n.openDeleteModalDish(o.selectedDrink.id)),class:"p-2 rounded-2xl text-center text-white uppercase font-extrabold bg-red-600 cursor-pointer"}," Elimina drink: "+u(o.selectedDrink.name),1)])])),i.showModalDeleteDish?(a(),r("div",Pl,[c(x,{showModal:i.showModalDeleteDish,selectedDrink:o.selectedDrink},{default:g(()=>[e("h2",zl," Sei sicuro di voler eliminare il drink: "+u(o.selectedDrink.name)+"? ",1),e("div",Nl,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[13]||(s[13]=d=>n.confirmDeleteDish(o.selectedDrink.id))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[14]||(s[14]=d=>i.showModalDeleteDish=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0),i.showModalEditName?(a(),r("div",Tl,[c(x,{showModal:i.showModalEditName,selectedDrink:o.selectedDrink},{default:g(()=>[Ol,e("div",Rl,[p(" nome attuale: "),e("span",Bl,u(o.selectedDrink.name),1)]),Ul,y(e("input",{type:"text",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[15]||(s[15]=d=>i.copySelectedDish.name=d)},null,512),[[k,i.copySelectedDish.name]]),e("div",Fl,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[16]||(s[16]=d=>n.confirmEditName(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[17]||(s[17]=d=>i.showModalEditName=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0),i.showModalEditPrice?(a(),r("div",Ll,[c(x,{showModal:i.showModalEditPrice,selectedDrink:o.selectedDrink},{default:g(()=>[Hl,e("div",ql,[p(" prezzo attuale: "),e("span",Kl,u(o.selectedDrink.price)+" € ",1)]),Jl,y(e("input",{type:"number",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[18]||(s[18]=d=>i.copySelectedDish.price=d)},null,512),[[k,i.copySelectedDish.price]]),e("div",Zl,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[19]||(s[19]=d=>n.confirmEditPrice(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[20]||(s[20]=d=>i.showModalEditPrice=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0),i.showModalEditDescription?(a(),r("div",Ql,[c(x,{showModal:i.showModalEditDescription,selectedDrink:o.selectedDrink},{default:g(()=>[Gl,e("div",Wl,[p(" descrizione attuale: "),e("span",Yl,u(o.selectedDrink.description),1)]),Xl,y(e("input",{type:"text",class:"w-full border-1 border-black rounded","onUpdate:modelValue":s[21]||(s[21]=d=>i.copySelectedDish.description=d)},null,512),[[k,i.copySelectedDish.description]]),e("div",en,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[22]||(s[22]=d=>n.confirmEditDescription(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[23]||(s[23]=d=>i.showModalEditDescription=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0),i.showModalEditImg?(a(),r("div",tn,[c(x,{showModal:i.showModalEditImg,selectedDrink:o.selectedDrink},{default:g(()=>[sn,e("div",on,[i.imagePreview===null?(a(),r("span",ln," Immagine attuale: ")):(a(),r("span",nn," Anteprima Immagine: ")),e("span",an,[e("img",{src:i.imagePreview!=null?i.imagePreview:"img/defaultDish.jpg",alt:o.selectedDrink.name+" image",class:"object-img my-2 border border-3 border-black object-cover"},null,8,rn)])]),dn,e("input",{id:"editImg",type:"file",onChange:s[24]||(s[24]=(...d)=>n.previewImage&&n.previewImage(...d)),class:"w-full border-1 border-black rounded"},null,32),e("div",cn,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[25]||(s[25]=d=>n.confirmEditImg(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[26]||(s[26]=d=>i.showModalEditImg=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0),i.showModalEditPairings?(a(),r("div",hn,[c(x,{showModal:i.showModalEditPairings,selectedDrink:o.selectedDrink},{default:g(()=>[un,e("div",gn,[pn,e("ul",fn,[(a(!0),r(_,null,C(i.pairings,d=>(a(),r(_,null,[(a(!0),r(_,null,C(d.drinks,b=>(a(),r(_,null,[b.id===o.selectedDrink.id?(a(),r("li",mn,u(b.name),1)):w("",!0)],64))),256))],64))),256))])]),bn,c(h,{ref:"selectMultiple",options:o.drinks,selected:n.selectedDishDrinks,onUpdateComponent:n.toggleDrink,defaultLabel:"Abbinamenti",style:{"text-transform":"uppercase"}},null,8,["options","selected","onUpdateComponent"]),e("div",_n,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[27]||(s[27]=d=>n.confirmEditPairings(i.copySelectedDish))},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[28]||(s[28]=d=>i.showModalEditPairings=!1)},"Annulla")])]),_:1},8,["showModal","selectedDrink"])])):w("",!0)],64)}const ie=$(Ni,[["render",vn],["__scopeId","data-v-529f5baa"]]),D=t=>(z("data-v-14339c6d"),t=t(),N(),t),wn={class:"overflow-x-hidden mx-4"},yn={key:0,class:"p-3"},kn=D(()=>e("strong",{class:"uppercase"},"aggiungendo",-1)),xn={key:0,class:"tab category bg-white"},Dn={class:"flex max-h-14 bg-white justify-evenly items-center gap-3 p-2"},Cn=["onClick"],$n=["onClick"],Mn=["id"],An=["for"],In={class:"rounded-2xl text-black w-20 h-8 bg-white p-1 flex justify-center items-center"},En=D(()=>e("span",{class:"tab__label__arrow"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})])],-1)),Sn={class:"tab__content bg-white"},Vn={class:"max-w-full"},jn=["onClick"],Pn={class:"flex"},zn=["src"],Nn={class:"flex flex-col name"},Tn={class:"first-letter:uppercase text-bold"},On={class:"flex flex-col price"},Rn={class:"text-bold"},Bn=["onClick"],Un=D(()=>e("div",{class:"font-bold text-lg"},"➕",-1)),Fn=D(()=>e("span",null,"Aggiungi bevanda",-1)),Ln=[Un,Fn],Hn={class:"modal-confirm relative"},qn=D(()=>e("h2",{class:"h-16 font-bold text-2xl text-center"}," Aggiungi nuova bevanda ",-1)),Kn={class:"grid-show-drink"},Jn={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"nome"}},Zn={class:"w-full flex flex-col gap-2"},Qn=D(()=>e("div",{class:"font-black uppercase"}," nome: ",-1)),Gn=["placeholder"],Wn={class:"min-h-30 p-2 border-2 border-black",style:{"grid-area":"immagine"}},Yn={class:"flex flex-col justify-between items-start"},Xn=D(()=>e("span",{class:"font-black me-2 uppercase"}," immagine ",-1)),ea=["src"],ta={class:"h-fit flex items-center p-2 border-2 border-black",style:{"grid-area":"allergeni"}},sa=D(()=>e("span",{class:"font-black me-2 uppercase"}," Allergeni: ",-1)),oa={class:"flex gap-2"},ia=["onClick"],la=["src","alt","id"],na={key:0,class:"w-full ps-2 font-black uppercase text-red-600 underline decoration-4 underline-offset-4 text-center"},aa={class:"h-fit p-2 border-2 border-black",style:{"grid-area":"consigli"}},ra=D(()=>e("div",{class:"w-full flex justify-between items-center font-black uppercase"}," Consigli: ",-1)),da=["placeholder"],ca={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"ingredienti"}},ha={class:"w-full flex flex-col gap-2"},ua=D(()=>e("div",{class:"font-black uppercase"}," ingredienti: ",-1)),ga=["placeholder"],pa={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"gradi"}},fa={class:"flex flex-col gap-2 w-full"},ma=D(()=>e("div",{class:"font-black uppercase"}," gradi: ",-1)),ba=["placeholder"],_a={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"prezzo"}},va={class:"flex flex-col gap-2 w-full"},wa=D(()=>e("div",{class:"font-black uppercase"}," prezzo: ",-1)),ya=["placeholder"],ka={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"origine"}},xa={class:"w-full flex flex-col gap-2"},Da=D(()=>e("div",{class:"font-black uppercase"}," origine: ",-1)),Ca=["placeholder"],$a={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"colore"}},Ma={class:"w-full flex flex-col gap-2"},Aa=D(()=>e("div",{class:"font-black uppercase"}," colore: ",-1)),Ia=["placeholder"],Ea={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"produzione"}},Sa={class:"w-full flex flex-col gap-2"},Va=D(()=>e("div",{class:"font-black uppercase"}," metodo di produzione: ",-1)),ja=D(()=>e("option",{value:"distillazione"},"Distillazione",-1)),Pa=D(()=>e("option",{value:"aFreddo"},"A freddo",-1)),za=D(()=>e("option",{value:"infusione"},"Infusione",-1)),Na=D(()=>e("option",{value:"macerazione"},"Macerazione",-1)),Ta=D(()=>e("option",{value:"percolazione"},"Percolazione",-1)),Oa=[ja,Pa,za,Na,Ta],Ra={class:"h-fit p-2 border-2 border-black flex items-center justify-between",style:{"grid-area":"sapore"}},Ba={class:"w-full flex flex-col gap-2"},Ua=D(()=>e("div",{class:"font-black uppercase"}," sapore: ",-1)),Fa=["placeholder"],La={class:"flex w-full justify-center"},Ha=D(()=>e("p",null," Aggiungi bevanda ",-1)),qa={class:"modal"},Ka=D(()=>e("h2",{class:"h-20 font-bold text-2xl text-center"},[p(" Sei sicuro di voler eliminare questa categoria? "),e("p",{class:"text-base"},"la cancellazione della categoria provvederà a cancellare TUTTI i piatti abbinati")],-1)),Ja={class:"flex w-100 justify-between p-5"},Za={components:{Switch_button:F,ModalAction:E,ShowDish:ie,ButtonCss:P},name:"CategoryDrink",props:{drinks:Array,allergens:Array,allergensDrinks:Array,category_enoteca:Array,selectedVenueColor:String,drink_enoteca_category:Array,is_drink:{type:Boolean,required:!0}},data(){return{defaultImgDish:J,file:null,imagePreview:null,componentKeyli:0,showDeleteModal:!1,categoryToDelete:null,showEditModal:!1,categoryToEdit:null,showModalDrink:!1,categoryNameToEdit:null,showAddDrinksModal:!1,drinkToCreateId:null,localCategory_enoteca:this.category_enoteca,localDrinkEnotecaCategory:[],allergensDrinks:this.allergensDrinks,selectedAllergens:[]}},methods:{deleteCategory(t){this.categoryToDelete=t,this.showDeleteModal=!0},confirmDelete(){f.delete(`/api/drinks?category_id=${this.categoryToDelete}`).then(t=>{console.log("Deleted corresponding drinks"),f.delete(`/api/categories/${this.categoryToDelete}`).then(s=>{const o=this.localCategory_enoteca.findIndex(l=>l.id===this.categoryToDelete);o!==-1&&this.localCategory_enoteca.splice(o,1),console.log("RESPONSE delete"),console.log(this.localCategory_enoteca),this.$emit("update:category_enoteca",this.localCategory_enoteca)}).catch(s=>{console.log(s)})}).catch(t=>{console.log(t)}),this.showDeleteModal=!1},editCategory(t){this.showEditModal=!0,this.categoryToEdit=t,this.categoryNameToEdit=this.localCategory_enoteca.find(s=>s.id===t).name},confirmEdit(t){f.put(`/api/categories/${this.categoryToEdit}`,{name:t}).then(s=>{const o=this.localCategory_enoteca.findIndex(l=>l.id===this.categoryToEdit);o!==-1&&(this.localCategory_enoteca[o].name=t),this.category=s.data}).catch(s=>{console.log(s)}),this.showEditModal=!1},updateIsShowStatus(t,s){f.put(`/api/categories/${t}`,{is_active:s}).then(o=>{this.category=o.data}).catch(o=>{console.log(o)})},onFileChange(t){this.files=t.target.files||t.dataTransfer.files,this.files.length&&(this.file=this.files[0],this.createImage(this.files[0]))},createImage(t){let s=new FileReader,o=this;s.onload=l=>{o.imagePreview=l.target.result},s.readAsDataURL(t)},toggleAllergen(t){const s=document.getElementById(t),o=this.selectedAllergens.indexOf(t);o===-1?(s.classList.add("bg-olive"),this.selectedAllergens.push(t)):(s.classList.remove("bg-olive"),this.selectedAllergens.splice(o,1))},addDrink(t){this.showAddDrinksModal=!0,this.drinkToCreateId=t},confirmAddDrinks(){let t=new FormData;t.append("name",this.drink_enoteca_category.name),t.append("description",this.drink_enoteca_category.description),t.append("price",this.drink_enoteca_category.price),t.append("image",this.file),t.append("instruction",this.drink_enoteca_category.instruction),t.append("degrees",this.drink_enoteca_category.degrees),t.append("origin",this.drink_enoteca_category.origin),t.append("color",this.drink_enoteca_category.color),t.append("production_method",this.drink_enoteca_category.production_method),t.append("flavour",this.drink_enoteca_category.flavour),t.append("category_id",this.drinkToCreateId),t.append("venue_id",3),f.post(`/api/drinks/${this.drinkToCreateId}`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{let o;if(typeof s.data=="string"){let i=s.data;console.log("DAI CAVALLOOOOOO"),i=i.substring(i.indexOf("{")),o=JSON.parse(i)}else o=s.data;let l=this.category_enoteca.find(i=>i.id===this.drinkToCreateId);this.$emit("drinkAdded",o),l&&(l.drinks||(l.drinks=[]),l.drinks.push(o),this.drinkToCreateId=""),this.componentKeyli++,this.showAddDrinksModal=!1,this.selectedAllergens.forEach(i=>{this.matchAllergens(o.id,i)}),this.selectedAllergens=[],this.drink_enoteca_category.name="",this.drink_enoteca_category.description="",this.drink_enoteca_category.price=null,this.file=null,this.imagePreview=null,this.drink_enoteca_category.production_method=null,o=""}).catch(s=>{console.log("ERRORE AHI AHI AHI: "+s)})},resetForm(){this.drinkToCreateId="",this.drink_enoteca_category={name:"",description:"",price:null,image:null},this.selectedAllergens=[],this.file=null,this.imagePreview=null},matchAllergens(t,s){this.allergensDrinks.some(l=>l.id===s&&l.drinks.some(i=>i.pivot.drink_id===t))?f.delete(`/api/allergens/${s}/drinks/${t}`).then(()=>{const l=this.allergensDrinks.findIndex(n=>n.id===s),i=this.allergensDrinks[l].drinks.findIndex(n=>n.pivot.drink_id===t);this.allergensDrinks[l].drinks.splice(i,1)}).catch(l=>{console.log(l)}):f.post(`/api/allergens/${s}/drinks`,{drink_id:t}).then(()=>{const l=this.allergensDrinks.findIndex(i=>i.id===s);this.allergensDrinks[l].drinks.push({pivot:{drink_id:t}})}).catch(l=>{console.log(l)})},openShowDrink(t){this.selectedDrink=t,this.showModalDrink=!this.showModalDrink}},watch:{category_enoteca(t){this.localCategory_enoteca=t}},created(){this.localDrinkEnotecaCategory=this.category_enoteca.map(t=>{let s=this.drink_enoteca_category.filter(o=>o.category_id===t.id);return{...t,drinks:s}}),this.allergenDrinks=this.allergensDrinks},computed:{isFormFilled(){return this.drink_enoteca_category.name&&this.drink_enoteca_category.price},activeDrinksCount(){let t={};return this.category_enoteca.forEach(s=>{let o=s.drinks?s.drinks.filter(l=>l.is_active):[];t[s.id]=o.length}),t}}},Qa=Object.assign(Za,{props:{selectedVenueName:String,pairingsEnoteca:Array,selectedVenueColor:String,category_enoteca:Array,drink_enoteca_category:Array,allergens:Array,allergensDrinks:Array,drinks:Array},setup(t){return(s,o)=>(a(),r(_,null,[e("section",wn,[t.category_enoteca.some(l=>l.is_drink)?w("",!0):(a(),r("h2",yn,[p(" ⭐ Inizia "),kn,p(" una categoria beverage ")])),(a(!0),r(_,null,C(t.category_enoteca,l=>(a(),r("div",{class:"last:mb-10 last:border-b-2 border-l-2 border-r-2 border-black",key:l.id},[l.is_drink?(a(),r("div",xn,[e("div",Dn,[e("button",{onClick:i=>s.deleteCategory(l.id)},"❌",8,Cn),e("button",{onClick:i=>s.editCategory(l.id)},"Edit",8,$n),c(F,{value:l.is_active===1||l.is_active===!0,onSwitchChanged:i=>s.updateIsShowStatus(l.id,i)},null,8,["value","onSwitchChanged"])]),(a(),r("div",{class:"bg-yellow-500",key:s.componentKeyli},[e("input",{type:"checkbox",name:"accordion-1",id:"cb"+l.id},null,8,Mn),e("label",{for:"cb"+l.id,class:"tab__label uppercase text-white text-center font-bold cursor-pointer"},[e("span",In,u(s.activeDrinksCount[l.id])+" / "+u(l.drinks?l.drinks.length:0),1),p(),e("span",null,u(l.name),1),En],8,An),e("div",Sn,[e("ul",Vn,[(a(!0),r(_,null,C(l.drinks,i=>(a(),r("li",{key:i.id,class:"border-b-2 border-black p-2"},[e("div",{class:V(["w-full h-full",i.is_active?"opacity-100":"opacity-20"])},[e("div",{onClick:n=>s.openShowDrink(i),class:"container-drinks px-3 cursor-pointer"},[e("div",Pn,[e("img",{src:i.image=="null"||i.image=="undefined"?"img/defaultDish.jpg":"/storage/"+i.image,alt:"drink image",class:"sm:max-h-32 md:max-h-40 object-cover p-1"},null,8,zn)]),e("div",Nn,[e("span",Tn,u(i.name),1)]),e("div",On,[e("span",Rn,u(i.price)+" €",1)])],8,jn)],2)]))),128))]),e("div",{type:"button",onClick:i=>s.addDrink(l.id),class:"p-4 flex justify-start items-center gap-2 cursor-pointer"},Ln,8,Bn)])]))])):w("",!0)]))),128))]),(a(),U(E,{showModal:s.showAddDrinksModal,key:s.keyComponent},{default:g(()=>[e("div",Hn,[c(P,{hoverColor:"#DC2626",onClick:o[0]||(o[0]=l=>s.showAddDrinksModal=!1),style:{position:"absolute",right:"-10px",top:"-20px"}},{default:g(()=>[p(" ❌ ")]),_:1}),qn,e("form",{onSubmit:o[11]||(o[11]=R((...l)=>s.confirmAddDrinks&&s.confirmAddDrinks(...l),["prevent"]))},[e("div",Kn,[e("div",Jn,[e("div",Zn,[Qn,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[1]||(o[1]=l=>t.drink_enoteca_category.name=l),placeholder:t.drink_enoteca_category.name},null,8,Gn),[[k,t.drink_enoteca_category.name]])])]),e("div",Wn,[e("div",Yn,[Xn,e("input",{type:"file",onChange:o[2]||(o[2]=(...l)=>s.onFileChange&&s.onFileChange(...l)),accept:"image/*"},null,32)]),e("img",{src:s.imagePreview==null?H(J):s.imagePreview,class:"h-image my-2 border border-3 border-black object-cover"},null,8,ea)]),e("div",ta,[sa,e("ul",oa,[(a(!0),r(_,null,C(t.allergens,l=>(a(),r(_,null,[l.is_active?(a(),r("li",{class:"rounded-full cursor-pointer",onClick:i=>s.toggleAllergen(l.id),key:l.id},[e("img",{src:"/storage/"+l.icon,alt:l.name+" icon",id:l.id,class:"object-scale-down w-10 h-10 rounded-full border border-3 border-black"},null,8,la)],8,ia)):w("",!0)],64))),256)),t.allergens.some(l=>l.is_active)?w("",!0):(a(),r("li",na," Non sono presenti allergeni attivi "))])]),e("div",aa,[ra,y(e("input",{class:"w-full h-16",type:"text","onUpdate:modelValue":o[3]||(o[3]=l=>t.drink_enoteca_category.instruction=l),placeholder:t.drink_enoteca_category.instruction},null,8,da),[[k,t.drink_enoteca_category.instruction]])]),e("div",ca,[e("div",ha,[ua,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[4]||(o[4]=l=>t.drink_enoteca_category.description=l),placeholder:t.drink_enoteca_category.description},null,8,ga),[[k,t.drink_enoteca_category.description]])])]),e("div",pa,[e("div",fa,[ma,y(e("input",{class:"w-full h-8",type:"number","onUpdate:modelValue":o[5]||(o[5]=l=>t.drink_enoteca_category.degrees=l),placeholder:t.drink_enoteca_category.degrees},null,8,ba),[[k,t.drink_enoteca_category.degrees]])])]),e("div",_a,[e("div",va,[wa,y(e("input",{class:"w-full h-8",type:"number","onUpdate:modelValue":o[6]||(o[6]=l=>t.drink_enoteca_category.price=l),placeholder:t.drink_enoteca_category.price},null,8,ya),[[k,t.drink_enoteca_category.price]])])]),e("div",ka,[e("div",xa,[Da,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[7]||(o[7]=l=>t.drink_enoteca_category.origin=l),placeholder:t.drink_enoteca_category.origin},null,8,Ca),[[k,t.drink_enoteca_category.origin]])])]),e("div",$a,[e("div",Ma,[Aa,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[8]||(o[8]=l=>t.drink_enoteca_category.color=l),placeholder:t.drink_enoteca_category.color},null,8,Ia),[[k,t.drink_enoteca_category.color]])])]),e("div",Ea,[e("div",Sa,[Va,y(e("select",{class:"w-full h-8","onUpdate:modelValue":o[9]||(o[9]=l=>t.drink_enoteca_category.production_method=l),placeholder:"Scegli un metodo"},Oa,512),[[de,t.drink_enoteca_category.production_method]])])]),e("div",Ra,[e("div",Ba,[Ua,y(e("input",{class:"w-full h-8",type:"text","onUpdate:modelValue":o[10]||(o[10]=l=>t.drink_enoteca_category.flavour=l),placeholder:t.drink_enoteca_category.flavour},null,8,Fa),[[k,t.drink_enoteca_category.flavour]])])])]),e("div",La,[c(P,{disabled:!s.isFormFilled,hoverColor:"#00FF00",type:"submit",style:{width:"100%"}},{default:g(()=>[Ha]),_:1},8,["disabled"])])],32)])]),_:1},8,["showModal"])),c(E,{showModal:s.showDeleteModal},{default:g(()=>[e("div",qa,[Ka,e("div",Ja,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:o[12]||(o[12]=l=>s.confirmDelete())},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:o[13]||(o[13]=l=>s.showDeleteModal=!1)},"Annulla")])])]),_:1},8,["showModal"]),c(E,{showModal:s.showModalDrink},{default:g(()=>[c(ie,{selectedDrink:s.selectedDrink,allergens:t.allergens,allergensDrinks:s.allergensDrinks,category_enoteca:t.category_enoteca,drink_enoteca_category:t.drink_enoteca_category,pairingsEnoteca:t.pairingsEnoteca,pairings:s.pairings,drinks:t.drinks,onShowModalDrink:o[14]||(o[14]=l=>s.showModalDrink=!1),onDeleteDish:s.confirmDeleteDish,onMatchDish:s.matchDish},null,8,["selectedDrink","allergens","allergensDrinks","category_enoteca","drink_enoteca_category","pairingsEnoteca","pairings","drinks","onDeleteDish","onMatchDish"])]),_:1},8,["showModal"])],64))}}),le=$(Qa,[["__scopeId","data-v-14339c6d"]]),L=t=>(z("data-v-f258e60b"),t=t(),N(),t),Ga={class:"section_accordion relative h-full"},Wa=L(()=>e("section",{class:"sticky w-full top-0 z-10"},null,-1)),Ya={class:"flex justify-evenly"},Xa={class:"container-food"},er=L(()=>e("h2",{class:"text-2xl col-span-5 font-bold text-center uppercase"},"food",-1)),tr={class:"flex flex-col gap-2 col-span-4"},sr=L(()=>e("label",{for:"inputCategory"},"Aggiungi categoria food",-1)),or=L(()=>e("button",{type:"submit",class:"self-end col-span-1 justify-self-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",fill:"green",class:"bi bi-plus-circle",viewBox:"0 0 16 16"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})])],-1)),ir={class:"container-beverage"},lr=L(()=>e("h2",{class:"text-2xl col-span-5 font-bold text-center uppercase"},"beverage",-1)),nr={class:"flex flex-col gap-2 col-span-4"},ar=L(()=>e("label",{for:"inputCategoryDrink"},"Aggiungi categoria beverage",-1)),rr=L(()=>e("button",{type:"submit",class:"self-end col-span-1 justify-self-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",fill:"green",class:"bi bi-plus-circle",viewBox:"0 0 16 16"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})])],-1)),dr={emits:["dishAdded","drinkAdded"],components:{Modal:ue,Category:oe,CategoryDrink:le,ButtonCss:P},props:{category_enoteca:Array,dish_enoteca_category:Array},data(){return{componentKey:0,newCategory:{name:""},newCategoryDrink:{name:""},venues:[],localCategory_enoteca:this.category_enoteca,showDeleteModal:!1,showEditModal:!1,showAddDishesModal:!1,dishToCreateId:null,isVisible:!1,newDrink:null}},methods:{handleNewDrink(t){return this.newDrink=t,this.newDrink},createCategory(t){const s=[t],o={name:this.newCategory.name,is_drink:!1};f.post("/api/categories",o).then(l=>{this.category=l.data,this.localCategory_enoteca.push(l.data),f.post(`/api/categories/${l.data.id}/venues`,{category_id:l.data.id,venue_id:s}).then(i=>{s.push(i.data)}).catch(i=>{console.log(i)}),this.newCategory.name=""}).catch(l=>{console.log(l)})},createCategoryDrink(t){const s=[t],o={name:this.newCategoryDrink.name,is_drink:!0};f.post("/api/categories",o).then(l=>{this.category=l.data,this.localCategory_enoteca.push(l.data),f.post(`/api/categories/${l.data.id}/venues`,{category_id:l.data.id,venue_id:s}).then(i=>{s.push(i.data)}).catch(i=>{console.log(i)}),this.newCategory.name=""}).catch(l=>{console.log(l)})},addDrink(t){this.drinks.push(t)}},watch:{category_enoteca(t){this.localCategory_enoteca=t},dish_enoteca_category(t){this.dish_enoteca_category=t}},created(){this.componentKey=0}},cr=Object.assign(dr,{__name:"Enoteca",props:{selectedVenueName:String,selectedVenueColor:String,category_enoteca:Array,dish_enoteca_category:Array,drink_enoteca_category:Array,allergens:Array,allergensDishes:Array,allergensDrinks:Array,drinks:Array,pairingsEnoteca:Array},setup(t){return(s,o)=>(a(),r("div",Ga,[Wa,e("section",Ya,[e("div",Xa,[e("form",{class:"grid grid-cols-5",onSubmit:o[1]||(o[1]=R(l=>s.createCategory(3),["prevent"]))},[er,e("div",tr,[sr,y(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s.newCategory.name=l),type:"text",placeholder:"Nome categoria",id:"inputCategory"},null,512),[[k,s.newCategory.name]])]),or],32),c(oe,{category_enoteca:t.category_enoteca,selectedVenueColor:t.selectedVenueColor,deleteCategory:s.deleteCategory,editCategory:s.editCategory,updateIsShowStatus:s.updateIsShowStatus,dish_enoteca_category:t.dish_enoteca_category,addDishes:s.addDishes,showAddDishesModal:s.showAddDishesModal,componentKey:s.componentKey,onDishAdded:o[2]||(o[2]=l=>s.$emit("dishAdded")),allergens:t.allergens,allergensDishes:t.allergensDishes,drinks:t.drinks,pairingsEnoteca:t.pairingsEnoteca,newDrink:s.newDrink},null,8,["category_enoteca","selectedVenueColor","deleteCategory","editCategory","updateIsShowStatus","dish_enoteca_category","addDishes","showAddDishesModal","componentKey","allergens","allergensDishes","drinks","pairingsEnoteca","newDrink"])]),e("div",ir,[e("form",{class:"grid grid-cols-5",onSubmit:o[4]||(o[4]=R(l=>s.createCategoryDrink(3),["prevent"]))},[lr,e("div",nr,[ar,y(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>s.newCategoryDrink.name=l),type:"text",placeholder:"Nome categoria drink",id:"inputCategoryDrink"},null,512),[[k,s.newCategoryDrink.name]])]),rr],32),c(le,{category_enoteca:t.category_enoteca,selectedVenueColor:t.selectedVenueColor,deleteCategory:s.deleteCategory,editCategory:s.editCategory,updateIsShowStatus:s.updateIsShowStatus,drink_enoteca_category:t.drink_enoteca_category,addDishes:s.addDishes,showAddDishesModal:s.showAddDishesModal,componentKey:s.componentKey,onDrinkAdded:s.handleNewDrink,onUpdateDrinks:s.addDrink,allergens:t.allergens,allergensDrinks:t.allergensDrinks},null,8,["category_enoteca","selectedVenueColor","deleteCategory","editCategory","updateIsShowStatus","drink_enoteca_category","addDishes","showAddDishesModal","componentKey","onDrinkAdded","onUpdateDrinks","allergens","allergensDrinks"])])])]))}}),hr=$(cr,[["__scopeId","data-v-f258e60b"]]),ur={components:{ModalAction:E},data(){return{showModalUnderCostruction:!0}},methods:{UnderCostruction(){this.showModalUnderCostruction=!this.showModalUnderCostruction,this.$emit("changePage","Home"),this.$emit("changeHeader","Benvenuto")}}},gr=e("div",{class:"modal"},[e("h2",{class:"text-2xl text-center m-4 uppercase"},"Anteprima"),e("p",{class:"text-center"},"Questa funzionalità sarà disponibile a breve")],-1);function pr(t,s,o,l,i,n){const m=A("ModalAction");return a(),U(m,{onClick:s[0]||(s[0]=v=>n.UnderCostruction()),showModal:i.showModalUnderCostruction},{default:g(()=>[gr]),_:1},8,["showModal"])}const fr=$(ur,[["render",pr]]),mr={components:{ButtonCss:P,SwitchButton:F,ModalAction:E},props:{allergens:{type:Array,required:!0}},data(){return{localAllergens:[...this.allergens],isOpenModalAllergen:!1,isOpenModalDelete:!1,isOpenModalEdit:!1,form:{name:"",icon:null},componenetAllergen:0,isScrollable:!1,allergenId:null,showModalUnderCostruction:!1}},methods:{UnderCostruction(){this.showModalUnderCostruction=!this.showModalUnderCostruction},openModalAddAllergen(){this.isOpenModalAllergen=!this.isOpenModalAllergen},handleFileUpload(t){this.form.icon=t.target.files[0]},createAllergen(t){const s=new FormData;s.append("name",t),s.append("icon",this.form.icon),console.log("FORM DATA"),console.log(s),console.log("ICON"),console.log(this.form.icon),f.post("/api/allergens",s,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{const l=o.data.split(`
`).pop(),i=JSON.parse(l),n=()=>{f.get("/storage/"+i.icon).then(m=>{this.allergens.push(i),this.componenetAllergen++}).catch(m=>{setTimeout(n,1e3)})};n()}).catch(o=>{console.log("ERROR"),console.log(o)}),this.isOpenModalAllergen=!1},isListScrollable(){const t=document.getElementById("allergenList"),s=document.querySelector(".bi-arrow-down-circle");t&&(t.scrollHeight>t.clientHeight&&(this.isScrollable=!0),t.addEventListener("scroll",()=>{t.scrollTop+t.clientHeight>=t.scrollHeight?(s.style.transform="rotate(180deg)",s.style.transition="transform 0.5s"):s.style.transform="rotate(0deg)"})),setTimeout(this.isListScrollable,1e3)},deleteAllergen(t){this.allergenId=t,this.isOpenModalDelete=!0},confirmDelete(){f.delete("/api/allergens/"+this.allergenId).then(t=>{const s=this.allergens.findIndex(o=>o.id===this.allergenId);s!==-1&&this.allergens.splice(s,1)}).catch(t=>{console.log("ERROR"),console.log(t)}),this.isOpenModalDelete=!1},editAllergen(t){this.allergenId=t,this.isOpenModalEdit=!0},confirmEditAllergen(t,s){let o=new FormData;o.append("_method","PUT"),o.append("name",t),o.append("icon",s),f.post(`/api/allergens/${this.allergenId}`,o).then(l=>{const i=l.data.split(`
`).pop(),n=JSON.parse(i),m=this.allergens.findIndex(v=>v.id===this.allergenId);if(m!==-1){const v=()=>{f.get("/storage/"+n.icon).then(x=>{this.allergens[m]=n,this.componenetAllergen++}).catch(x=>{setTimeout(v,1e3)})};v()}}).catch(l=>{console.log(l)}),this.isOpenModalEdit=!1},updateIsShowStatus(t,s){f.put(`/api/allergens/${t}`,{is_active:s}).then(o=>{const l=this.allergens.findIndex(i=>i.id===t);l!==-1&&(this.allergens[l].is_active=s)}).catch(o=>{console.log(o)})},setCustomValidity(t){this.$refs.form.name.setCustomValidity(t)}},watch:{allergens(){this.localAllergens=[...this.allergens]}},computed:{isFormFilled(){return this.form.name&&this.form.icon}},mounted(){this.isListScrollable(),this.allergen=[...this.allergens]}},I=t=>(z("data-v-8e0041a0"),t=t(),N(),t),br=I(()=>e("h2",{class:"text-2xl title text-blue-600 font-bold"},"Aggiungi, Modifica o Elimina un Allergene",-1)),_r={class:"table-allergens flex pb-5"},vr=I(()=>e("div",null," Aggiungi Allergene ",-1)),wr=I(()=>e("div",null," Mostra Lista ",-1)),yr={key:0,class:"border-2 border-black mx-6 rounded-2xl"},kr=I(()=>e("h2",{class:"p-3 flex justify-center items-center"},[p(" ⭐ Inizia "),e("strong",{class:"uppercase mx-1"},"aggiungendo"),p(" un allergene ")],-1)),xr=[kr],Dr={key:1,class:"table-auto table-allergens"},Cr=I(()=>e("thead",{class:"bg-gray-200 text-gray-600 border border-gray-300"},[e("tr",{class:"grid grid-cols-6"},[e("th",{class:"border-2 border-black p-4"},"Icona"),e("th",{class:"border-2 border-black col-span-3 p-4"},"Nome"),e("th",{class:"border-2 border-black col-span-2 p-4"},"Azioni")])],-1)),$r={class:"list-allergen",id:"allergenList"},Mr={class:"grid grid-cols-6"},Ar={class:"flex items-center border border-4 p-5"},Ir={class:"w-full flex justify-center"},Er=["src","alt"],Sr={class:"flex items-center gap-4 border border-4 border-s-0 p-4 col-span-3"},Vr={class:"flex justify-center items-center border border-4 border-s-0 p-4 col-span-2"},jr={class:"flex gap-1"},Pr=I(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[e("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),e("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1)),zr={key:0,class:"section-create-allergen"},Nr={class:"modal-confirm relative"},Tr=I(()=>e("div",null," ❌ ",-1)),Or=I(()=>e("h2",{class:"h-20 font-bold text-2xl text-center"}," Aggiungi allergene ",-1)),Rr={class:"grid grid-cols-4 w-full"},Br=I(()=>e("label",{for:"name",class:"leading-9"},"Nome",-1)),Ur={class:"grid grid-cols-4 w-full"},Fr=I(()=>e("label",{for:"icon",class:"leading-9"},"Icona",-1)),Lr={class:"custom-file-upload col-span-3"},Hr=I(()=>e("div",{class:"w-96"}," Conferma ",-1)),qr={key:1,class:"section-delete-allergen"},Kr={class:"modal-confirm"},Jr={class:"h-20 font-bold text-2xl text-center"},Zr={class:"h-20 font-bold text-2xl text-red-600 uppercase"},Qr=I(()=>e("p",{class:"text-base"},"la cancellazione dell'allergene verrà effettuata anche per i piatti dove è presente",-1)),Gr={class:"flex w-100 justify-between p-5"},Wr={key:2,class:"section-edit-allergen"},Yr={class:"modal-confirm relative"},Xr=I(()=>e("div",null," ❌ ",-1)),ed={class:"h-20 font-bold text-2xl text-center"},td={class:"h-20 font-extrabold text-2xl uppercase text-red-600"},sd={class:"grid grid-cols-4 w-full"},od=I(()=>e("label",{for:"name",class:"leading-9"},"Nome",-1)),id={class:"grid grid-cols-4 w-full"},ld=I(()=>e("label",{for:"icon",class:"leading-9"},"Icona",-1)),nd={class:"custom-file-upload col-span-3"},ad=I(()=>e("div",{class:"w-96"}," Conferma ",-1)),rd=I(()=>e("div",{class:"modal"},[e("h2",{class:"text-2xl text-center m-4"},"Lista Allergeni"),e("p",{class:"text-center"},"Questa funzionalità sarà disponibile a breve")],-1)),dd={class:"fixed bottom-5 right-5 p-4"},cd=I(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"#1D4ED8",class:"bi bi-arrow-down-circle",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"})],-1)),hd=[cd];function ud(t,s,o,l,i,n){const m=A("ButtonCss"),v=A("SwitchButton"),x=A("ModalAction");return a(),r(_,null,[(a(),r("div",{key:i.componenetAllergen},[br,e("nav",null,[e("ul",_r,[e("li",{onClick:s[0]||(s[0]=h=>n.openModalAddAllergen())},[c(m,{tooltipText:"Usa questo tasto per aggiungere un allergene",hoverColor:"#20324E"},{default:g(()=>[vr]),_:1})]),e("li",null,[c(m,{onClick:s[1]||(s[1]=h=>n.UnderCostruction()),tooltipText:"Usa questo tasto per aggiungere un allergene",hoverColor:"#444F1F"},{default:g(()=>[wr]),_:1})])])]),e("section",null,[o.allergens.length===0?(a(),r("div",yr,xr)):w("",!0),o.allergens.length>0?(a(),r("table",Dr,[Cr,e("div",$r,[e("tbody",null,[(a(!0),r(_,null,C(o.allergens,h=>(a(),r("tr",Mr,[e("td",Ar,[e("div",Ir,[h.icon?(a(),r("img",{key:0,src:"/storage/"+h.icon,alt:"icona "+h.name+" non trovata"},null,8,Er)):w("",!0)])]),e("td",Sr,u(h.name),1),e("td",Vr,[e("div",jr,[c(m,{tooltipText:"Modifica l'icona",onClick:d=>n.editAllergen(h.id)},{default:g(()=>[Pr]),_:2},1032,["onClick"]),c(m,{tooltipText:"Elimina allergene",hoverColor:"#F08080",onClick:d=>n.deleteAllergen(h.id)},{default:g(()=>[p(" ❌ ")]),_:2},1032,["onClick"]),c(v,{value:h.is_active,onSwitchChanged:d=>n.updateIsShowStatus(h.id,d)},null,8,["value","onSwitchChanged"])])])]))),256))])])])):w("",!0)])])),i.isOpenModalAllergen?(a(),r("section",zr,[e("div",Nr,[c(m,{tooltipText:"chiudi",hoverColor:"#F08080",class:"w-full absolute right-2 top-4",onClick:s[2]||(s[2]=h=>n.openModalAddAllergen())},{default:g(()=>[Tr]),_:1}),Or,e("form",{onSubmit:s[6]||(s[6]=R((...h)=>t.submitForm&&t.submitForm(...h),["prevent"])),class:"w-full flex flex-col justify-between items-center gap-4 p-5"},[e("div",Rr,[Br,y(e("input",{id:"name","onUpdate:modelValue":s[3]||(s[3]=h=>i.form.name=h),type:"text",required:"",class:"col-span-3",oninvalid:"this.setCustomValidity('Per favore, riempi questo campo')",oninput:"this.setCustomValidity('')"},null,512),[[k,i.form.name]])]),e("div",Ur,[Fr,e("label",Lr,[e("input",{id:"icon",onChange:s[4]||(s[4]=(...h)=>n.handleFileUpload&&n.handleFileUpload(...h)),type:"file",accept:".png, .svg",required:"",class:"hidden",oninvalid:"this.setCustomValidity('Per favore, riempi questo campo')",oninput:"this.setCustomValidity('')"},null,32),p(" "+u(i.form.icon?i.form.icon.name:"Seleziona un file dal tuo pc"),1)])]),c(m,{type:"submit",tooltipText:"Conferma l'aggiunta dell'allergene",hoverColor:"#4FDE10",onClick:s[5]||(s[5]=h=>n.createAllergen(i.form.name)),disabled:!n.isFormFilled},{default:g(()=>[Hr]),_:1},8,["disabled"])],32)])])):w("",!0),i.isOpenModalDelete?(a(),r("section",qr,[e("div",Kr,[e("h2",Jr,[p(" Sei sicuro di voler eliminare l'allergene "),e("span",Zr,'"'+u(o.allergens.find(h=>h.id===i.allergenId).name)+'"',1),p("? "),Qr]),e("div",Gr,[e("button",{class:"bg-red-600 border-black border-2 rounded text-white p-3 w-32",onClick:s[7]||(s[7]=h=>n.confirmDelete())},"Conferma"),e("button",{class:"bg-white border-black border-2 rounded text-black p-3 w-32",onClick:s[8]||(s[8]=h=>i.isOpenModalDelete=!1)},"Annulla")])])])):w("",!0),i.isOpenModalEdit?(a(),r("section",Wr,[e("div",Yr,[c(m,{tooltipText:"chiudi",hoverColor:"#F08080",class:"w-full absolute right-2 top-4",onClick:s[9]||(s[9]=h=>i.isOpenModalEdit=!1)},{default:g(()=>[Xr]),_:1}),e("h2",ed,[p(" Modifica allergene "),e("span",td,u(o.allergens.find(h=>h.id===i.allergenId).name),1)]),e("form",{onSubmit:s[13]||(s[13]=R((...h)=>t.submitForm&&t.submitForm(...h),["prevent"])),class:"w-full flex flex-col justify-between items-center gap-4 p-5"},[e("div",sd,[od,y(e("input",{id:"name","onUpdate:modelValue":s[10]||(s[10]=h=>i.form.name=h),type:"text",required:"",class:"col-span-3"},null,512),[[k,i.form.name]])]),e("div",id,[ld,e("label",nd,[e("input",{id:"icon",onChange:s[11]||(s[11]=(...h)=>n.handleFileUpload&&n.handleFileUpload(...h)),type:"file",accept:".png, .svg",required:"",class:"hidden"},null,32),p(" "+u(i.form.icon?i.form.icon.name:"Seleziona un file dal tuo pc"),1)])]),c(m,{type:"submit",tooltipText:"Conferma l'aggiunta dell'allergene",hoverColor:"#4FDE10",onClick:s[12]||(s[12]=h=>n.confirmEditAllergen(i.form.name,i.form.icon))},{default:g(()=>[ad]),_:1})],32)])])):w("",!0),c(x,{onClick:s[14]||(s[14]=h=>n.UnderCostruction()),showModal:i.showModalUnderCostruction},{default:g(()=>[rd]),_:1},8,["showModal"]),y(e("div",dd,hd,512),[[W,i.isScrollable]])],64)}const gd=$(mr,[["render",ud],["__scopeId","data-v-8e0041a0"]]),pd={components:{ModalAction:E},data(){return{showModalUnderCostruction:!0}},methods:{UnderCostruction(){this.showModalUnderCostruction=!this.showModalUnderCostruction,this.$emit("changePage","Home"),this.$emit("changeHeader","Benvenuto")}}},fd=e("div",{class:"modal"},[e("h2",{class:"text-2xl text-center m-4 uppercase"},"Dashboard"),e("p",{class:"text-center"},"Questa funzionalità sarà disponibile a breve")],-1);function md(t,s,o,l,i,n){const m=A("ModalAction");return a(),U(m,{onClick:s[0]||(s[0]=v=>n.UnderCostruction()),showModal:i.showModalUnderCostruction},{default:g(()=>[fd]),_:1},8,["showModal"])}const bd=$(pd,[["render",md]]),_d={components:{ApplicationLogo:Y},methods:{openModalInstruction(){this.$emit("open-modal-instruction")}}},vd={class:"h-screen flex flex-col justify-between items-center"},wd={class:"flex flex-col h-96 max-w-2xl justify-around border border-blue-700 border-4 rounded-2xl p-6 bg-blue-100 mt-5 font-bold"},yd=e("h2",{class:"text-center text-4xl uppercase"},"Benvenuto nel gestionale di mamma elvira",-1),kd=e("svg",{class:"w-6 h-6 inline-block font-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),xd={class:"flex justify-center"};function Dd(t,s,o,l,i,n){const m=A("ApplicationLogo");return a(),r("div",vd,[e("div",wd,[yd,e("p",{onClick:s[0]||(s[0]=(...v)=>n.openModalInstruction&&n.openModalInstruction(...v)),class:"cursor-pointer text-center text-3xl leading-7 text-blue-700 uppercase"},[kd,p(" Seleziona una delle voci del menù a sinistra per iniziare ")])]),e("div",xd,[c(m,{class:"w-44 h-44"})])])}const Q=$(_d,[["render",Dd]]),Cd={props:{receips:{type:Array,required:!0},drinks:Array,dishes:Array},components:{ButtonCss:P,ModalAction:E,SelectMultiple:Z},data(){return{keyComponent:0,receips:this.receips,showModalAddRecipes:!1,showModalDeleteRecipes:!1,showModalEditRecipe:!1,showAddPairings:!1,showConfirmButton:!1,tooltipText:"Conferma l'aggiunta degli abbinamenti",selectedOption:[],dishes:[],form:{name:"",process:""}}},methods:{addIconScroll(){document.querySelectorAll(".container-process").forEach(s=>{s.scrollHeight<=s.clientHeight?s.style.cursor="pointer":(s.addEventListener("scroll",()=>{s.scrollTop===0?s.style.cursor='url("/img/cursor/down.svg"), auto':s.scrollHeight-s.scrollTop===s.clientHeight&&(s.style.cursor='url("/img/cursor/up.svg"), auto')}),s.style.cursor='url("/img/cursor/down.svg"), auto')})},toggleModalAddRecipes(){this.showModalAddRecipes=!this.showModalAddRecipes},toggleModalDeleteRecipe(t){this.recipeId=t,this.showModalDeleteRecipes=!this.showModalDeleteRecipes},toggleModalEditRecipe(t){this.recipeId=t,this.showModalEditRecipe=!this.showModalEditRecipe},toggleModalAddPairings(t){this.recipeId=t,this.showAddPairings=!this.showAddPairings},validateForm(){let t=!0;const s=document.getElementById("formAdd"),o=document.getElementById("formEdit");s?(this.form.name?this.$refs.nameInput.setCustomValidity(""):(t=!1,this.$refs.nameInput.setCustomValidity("Il campo non può essere vuoto")),this.form.process.length>1500||this.form.process.length===0?(t=!1,this.$refs.processInput.setCustomValidity("Il testo deve essere massimo di 1500 caratteri")):this.$refs.processInput.setCustomValidity(""),t&&this.addRecipes()):o&&(this.form.process.length>1500?(t=!1,this.$refs.processInput.setCustomValidity("Il testo deve essere massimo di 1500 caratteri")):this.$refs.processInput.setCustomValidity(""),t&&this.editRecipe())},countLetters(){return this.form.process,`${this.form.process.length}/1500`},addRecipes(){f.post("/api/recipes",this.form).then(t=>{this.receips.push(t.data),this.keyComponent++,this.form.name="",this.form.process=""}).catch(t=>{console.log(t)}),this.showModalAddRecipes=!1},deleteRecipe(){f.delete(`/api/recipes/${this.recipeId}`).then(()=>{const t=this.receips.findIndex(s=>s.id===this.recipeId);t!==-1&&(this.receips.splice(t,1),this.keyComponent++),this.showModalDeleteRecipes=!1}).catch(t=>{console.log(t)}),this.showModalDeleteRecipes=!1},editRecipe(){let t={};this.form.name?t.name=this.form.name:t.name=this.receips.find(s=>s.id===this.recipeId).name,this.form.process?t.process=this.form.process:t.process=this.receips.find(s=>s.id===this.recipeId).process,f.put(`/api/recipes/${this.recipeId}`,t).then(s=>{const o=this.receips.findIndex(l=>l.id===this.recipeId);o!==-1&&(this.receips[o]={...this.receips[o],...s.data},this.keyComponent++,this.form.name="",this.form.process=""),this.showModalEditRecipe=!1,this.keyComponent++}).catch(s=>{console.log(s)}),this.showModalEditRecipe=!1},addPairings(t){if(console.log(t),t.length>1){this.showConfirmButton=!0;return}else f.put(`/api/recipes/${this.recipeId}`,{dish_id:t[0].id}).then(()=>{this.keyComponent++,this.showAddPairings=!1;const s=this.receips.findIndex(o=>o.id===this.recipeId);s!==-1&&(this.receips[s].dish_id=t[0].id)}).catch(s=>{console.log(s)});this.selectedOption=[]},changeOption(t){const s=this.selectedOption.findIndex(o=>o.id===t.id);s>-1?(this.selectedOption.splice(s,1),this.selectedOption.length<2&&(this.showConfirmButton=!1)):this.selectedOption.push(t)},removeClassHidden(){document.getElementById("allertRecipe").classList.add("none")},async fetchDishes(){const t=await f.get("/api/dishes");this.dishes=t.data.dishes}},mounted(){this.addIconScroll(),this.countLetters()},updated(){this.addIconScroll()},watch:{showAddPairings(t){t&&this.fetchDishes()}}},T=t=>(z("data-v-e3699d1e"),t=t(),N(),t),$d=T(()=>e("div",{class:"px-7 py-4 bg-gray-100"},[e("h2",{class:"text-2xl title text-blue-600 font-bold"},"Aggiungi, Modifica o Elimina Ricette")],-1)),Md={class:"ps-4 bg-gray-100"},Ad={key:0},Id=T(()=>e("h2",{class:"p-3"},[p(" ⭐ Inizia "),e("strong",{class:"uppercase"},"aggiungendo"),p(" una ricetta ")],-1)),Ed=[Id],Sd={class:"card border-2 shadow-xl p-8 h-fit flex flex-col justify-between gap-4"},Vd={class:"text-xl font-bold uppercase text-wrap truncate"},jd={class:"container-process text-wrap text-ellipsis h-40 border-2 border-gray-400 p-2 my-2 overflow-auto",maxlength:"1500"},Pd={class:"flex justify-between"},zd={class:"text-wrap text-ellipsis flex"},Nd={key:0,class:"text-green-600 ms-2"},Td={key:1,class:"text-red-600 ms-2"},Od=["onClick"],Rd=T(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",stroke:"green",class:"bi bi-plus-circle",viewBox:"0 0 18 16"},[e("path",{"stroke-width":"1",d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),e("path",{"stroke-width":"1",d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1)),Bd=[Rd],Ud=T(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[e("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),e("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1)),Fd={class:"modal-recipes-add relative pt-10 w-96"},Ld=T(()=>e("div",null," ❌ ",-1)),Hd=T(()=>e("h2",{class:"text-2xl text-center m-4 uppercase"},"Aggiungi Ricetta",-1)),qd={class:"flex flex-col gap-2"},Kd=T(()=>e("label",{for:"name"},"Nome Ricetta",-1)),Jd={class:"flex flex-col gap-2"},Zd=T(()=>e("label",{for:"process"},"Procedimento",-1)),Qd={class:"flex flex-col"},Gd={class:"text-gray-600 self-end"},Wd={class:"flex justify-end"},Yd={class:"modal-recipes relative pt-10"},Xd={class:"text-2xl text-center uppercase"},ec={class:"h-20 font-bold text-2xl text-red-600 uppercase text-wrap truncate"},tc={class:"flex flex-col gap-4"},sc=T(()=>e("p",{class:"text-center"},"Sei sicuro di voler eliminare la ricetta?",-1)),oc={class:"flex justify-center gap-4"},ic={class:"text-2xl text-center uppercase"},lc={class:"h-20 font-bold text-2xl text-red-600 uppercase text-wrap truncate"},nc={class:"modal-recipes flex flex-col gap-2"},ac=T(()=>e("label",{for:"name"},"Nome Ricetta",-1)),rc={class:"flex flex-col gap-2"},dc=T(()=>e("label",{for:"process"},"Procedimento",-1)),cc={class:"flex flex-col"},hc={class:"text-gray-600 self-end"},uc={class:"flex justify-between"},gc={class:"modal-recipes relative py-5"},pc=T(()=>e("h2",{class:"text-2xl text-center uppercase"},"Aggiungi Abbinamenti",-1)),fc={class:"flex flex-col gap-4"},mc={class:"py-10"},bc=T(()=>e("p",null,"Seleziona la ricetta",-1)),_c={id:"allertRecipe"},vc={class:"flex justify-center gap-4"};function wc(t,s,o,l,i,n){const m=A("ButtonCss"),v=A("ModalAction"),x=A("SelectMultiple");return a(),r(_,null,[$d,e("nav",Md,[e("ul",null,[e("li",null,[c(m,{tooltipText:"Aggiungi ricetta",onClick:s[0]||(s[0]=h=>n.toggleModalAddRecipes()),hoverColor:"#20324E"},{default:g(()=>[p("Aggiungi Ricetta")]),_:1})])])]),(a(),r("section",{id:"receips",class:"container-recipes flex p-4 gap-2 flex-wrap",key:i.keyComponent},[i.receips.length===0?(a(),r("div",Ad,Ed)):(a(!0),r(_,{key:1},C(i.receips,h=>(a(),r("div",Sd,[e("div",null,[e("h2",Vd,u(h.name),1),e("p",jd,u(h.process),1),e("div",Pd,[e("p",zd,[p("Collegata al piatto? "),h.dish_id?(a(),r("span",Nd,"SI")):(a(),r("span",Td,"NO"))]),e("div",{class:"cursor-pointer",onClick:d=>n.toggleModalAddPairings(h.id)},Bd,8,Od)])]),e("div",null,[c(m,{onClick:d=>n.toggleModalEditRecipe(h.id),tooltipText:"Modifica la ricetta"},{default:g(()=>[Ud]),_:2},1032,["onClick"]),c(m,{tooltipText:"Elimina ricetta",onClick:d=>n.toggleModalDeleteRecipe(h.id),hoverColor:"#F08080"},{default:g(()=>[p(" ❌ ")]),_:2},1032,["onClick"])])]))),256))])),c(v,{showModal:i.showModalAddRecipes},{default:g(()=>[e("div",Fd,[c(m,{class:"absolute top-0 right-0",tooltipText:"chiudi",hoverColor:"#F08080",onClick:s[1]||(s[1]=h=>n.toggleModalAddRecipes())},{default:g(()=>[Ld]),_:1}),Hd,e("form",{onSubmit:s[5]||(s[5]=R((...h)=>t.submitForm&&t.submitForm(...h),["prevent"])),class:"flex flex-col gap-4",id:"formAdd"},[e("div",qd,[Kd,y(e("input",{id:"name","onUpdate:modelValue":s[2]||(s[2]=h=>i.form.name=h),type:"text",required:"",name:"name",class:"p-2 border border-gray-300 rounded-lg",placeholder:"Nome Ricetta",ref:"nameInput"},null,512),[[k,i.form.name]])]),e("div",Jd,[Zd,e("div",Qd,[y(e("textarea",{id:"process",required:"","onUpdate:modelValue":s[3]||(s[3]=h=>i.form.process=h),name:"process",class:"p-2 border border-gray-300 rounded-lg",placeholder:"Procedimento",ref:"processInput"},null,512),[[k,i.form.process]]),e("span",Gd,u(n.countLetters()),1)])]),e("div",Wd,[c(m,{onClick:s[4]||(s[4]=h=>n.validateForm()),tooltipText:"Conferma l'aggiunta della ricetta",type:"submit",hoverColor:"#4FDE10"},{default:g(()=>[p("Aggiungi")]),_:1})])],32)])]),_:1},8,["showModal"]),c(v,{showModal:i.showModalDeleteRecipes},{default:g(()=>[e("div",Yd,[e("h2",Xd,[p("Elimina la ricetta "),e("div",ec,'"'+u(i.receips.find(h=>h.id===t.recipeId).name)+'"',1)]),e("div",tc,[sc,e("div",oc,[c(m,{onClick:s[6]||(s[6]=h=>n.deleteRecipe()),tooltipText:"Conferma l'eliminazione della ricetta",hoverColor:"#4FDE10"},{default:g(()=>[p("Conferma")]),_:1}),c(m,{onClick:s[7]||(s[7]=h=>n.toggleModalDeleteRecipe()),tooltipText:"Annulla l'eliminazione della ricetta",hoverColor:"#F08080"},{default:g(()=>[p("Annulla")]),_:1})])])])]),_:1},8,["showModal"]),c(v,{showModal:i.showModalEditRecipe},{default:g(()=>[e("h2",ic,[p("Modifica la ricetta "),e("div",lc,'"'+u(i.receips.find(h=>h.id===t.recipeId).name)+'"',1)]),e("form",{onSubmit:s[12]||(s[12]=R((...h)=>t.submitForm&&t.submitForm(...h),["prevent"])),class:"flex flex-col gap-4",id:"formEdit"},[e("div",nc,[ac,y(e("input",{id:"name","onUpdate:modelValue":s[8]||(s[8]=h=>i.receips.find(d=>d.id===t.recipeId).name=h),type:"text",required:"",name:"name",class:"p-2 border border-gray-300 rounded-lg",placeholder:"Nome Ricetta",ref:"nameInput"},null,512),[[k,i.receips.find(h=>h.id===t.recipeId).name]])]),e("div",rc,[dc,e("div",cc,[y(e("textarea",{id:"process",required:"",name:"process",class:"p-2 border border-gray-300 rounded-lg",ref:"processInput","onUpdate:modelValue":s[9]||(s[9]=h=>i.receips.find(d=>d.id===t.recipeId).process=h)},`
                    `,512),[[k,i.receips.find(h=>h.id===t.recipeId).process]]),e("span",hc,u(n.countLetters()),1)])]),e("div",uc,[c(m,{onClick:s[10]||(s[10]=h=>n.toggleModalEditRecipe()),tooltipText:"Annulla la modifica della ricetta",hoverColor:"#F08080"},{default:g(()=>[p("Annulla")]),_:1}),c(m,{onClick:s[11]||(s[11]=h=>n.validateForm()),tooltipText:"Conferma la modifica della ricetta",type:"submit",hoverColor:"#4FDE10"},{default:g(()=>[p("Modifica")]),_:1})])],32)]),_:1},8,["showModal"]),c(v,{showModal:i.showAddPairings},{default:g(()=>[e("div",gc,[pc,e("div",fc,[e("div",mc,[bc,c(x,{options:i.dishes,defaultLabel:"Ricette",onChangeOption:n.changeOption},null,8,["options","onChangeOption"])]),y(e("div",_c,[e("div",{class:"allertRecipe flex justify-center items-center",onClick:s[13]||(s[13]=h=>n.removeClassHidden())}," ATTENZIONE!! è possibile abbinare un solo piatto ad ogni ricetta ")],512),[[W,i.showConfirmButton]]),e("div",vc,[c(m,{onClick:s[14]||(s[14]=h=>n.addPairings(i.selectedOption)),tooltipText:i.tooltipText,hoverColor:"#4FDE10"},{default:g(()=>[p(" Conferma ")]),_:1},8,["tooltipText"]),c(m,{onClick:s[15]||(s[15]=h=>n.toggleModalAddPairings()),tooltipText:"Annulla l'aggiunta degli abbinamenti",hoverColor:"#F08080"},{default:g(()=>[p("Annulla")]),_:1})])])])]),_:1},8,["showModal"])],64)}const yc=$(Cd,[["render",wc],["__scopeId","data-v-e3699d1e"]]),ne=t=>(z("data-v-ab9ffd0a"),t=t(),N(),t),kc={class:"relative"},xc={class:"bg-gray-50 flex dark:bg-gray-800 h-screen"},Dc={class:"main-app flex"},Cc=ne(()=>e("span",{class:"text-6xl cursor-pointer"}," clicca qui per iniziare ",-1)),$c=ne(()=>e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-arrow-return-left text-2xl cursor-pointer",viewBox:"0 0 26 26"},[e("path",{"fill-rule":"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"})])],-1)),Mc=[Cc,$c],Ac={props:{messages:Array,categories:Array,category_laCucina:Array,category_scante:Array,category_enoteca:Array,dish_enoteca_category:Array,drink_enoteca_category:Array,allergensDishes:Array,allergensDrinks:Array,allergens:Array,receips:Array,drinks:Array,pairingsEnoteca:Array,dishes:Array},data(){return{componentKey:0,openModalInstruction:!1}},methods:{toggleModalInstruction(){this.openModalInstruction=!this.openModalInstruction}}},Ic=Object.assign(Ac,{__name:"Home",setup(t){const s=K("Benvenuto"),o=K("blue"),l=K("Dashboard"),i=K(!1);let n="";function m(b){l.value="",s.value=b,d(b)}function v(b){o.value=b}function x(b){l.value=b,s.value="",o.value="blue",d(b)}function h(b){return i.value=b}function d(b){return n=b==="'Scante"?qt:b==="La Cucina"?Vt:b==="Enoteca"?hr:b==="Anteprima menù"?fr:b==="Allergeni"?gd:b==="Dashboard"?bd:b==="Ricette"?yc:b==="Home"?Q:""}return(b,B)=>(a(),r(_,null,[c(H(he),{title:"Mamma Elvira"}),e("div",kc,[e("div",xc,[c(He,{messages:t.messages,onVenueName:m,onVenueColor:v,onValueButton:x},null,8,["messages"]),e("div",Dc,[(s.value?s.value:l.value)?(a(),U(Ge,{key:0,class:"col-9",selectedVenueName:s.value,selectedVenueColor:o.value,selectedValueButton:l.value,newMessage:i.value},null,8,["selectedVenueName","selectedVenueColor","selectedValueButton","newMessage"])):w("",!0),l.value==="inbox"?(a(),U(vt,{key:1,messages:t.messages,onMessageNotRead:h},null,8,["messages"])):w("",!0),H(n)===""?(a(),U(Q,{key:2,onOpenModalInstruction:b.toggleModalInstruction},null,8,["onOpenModalInstruction"])):(a(),U(ce(H(n)),{allergens:t.allergens,allergensDishes:t.allergensDishes,allergensDrinks:t.allergensDrinks,selectedVenueName:s.value,selectedVenueColor:o.value,category_laCucina:t.category_laCucina,category_scante:t.category_scante,"onUpdate:category_enoteca":B[0]||(B[0]=q=>t.category_enoteca=q),category_enoteca:t.category_enoteca,categories:t.categories,dish_enoteca_category:t.dish_enoteca_category,drink_enoteca_category:t.drink_enoteca_category,messages:t.messages,onDishAdded:B[1]||(B[1]=q=>b.componentKey+=1),onDrinkAdded:B[2]||(B[2]=q=>b.componentKey+=1),key:b.componentKey,receips:t.receips,updateIsShowStatus:b.updateIsShowStatus,onChangePage:d,onChangeHeader:x,drinks:t.drinks,dishes:t.dishes,pairingsEnoteca:t.pairingsEnoteca},null,40,["allergens","allergensDishes","allergensDrinks","selectedVenueName","selectedVenueColor","category_laCucina","category_scante","category_enoteca","categories","dish_enoteca_category","drink_enoteca_category","messages","receips","updateIsShowStatus","drinks","dishes","pairingsEnoteca"]))])]),e("div",{onClick:B[3]||(B[3]=q=>b.toggleModalInstruction()),class:V(["z-50 modal-instruction absolute w-screen h-screen top-0 right-0 bg-opacity-50 bg-black",{visible:b.openModalInstruction}])},[e("div",{class:V(["focus-modal cursor-pointer",{visible:b.openModalInstruction}])},null,2),e("div",{class:V(["focus-instruction flex flex-col gap-5",{visible:b.openModalInstruction}])},Mc,2)],2)])],64))}}),Pc=$(Ic,[["__scopeId","data-v-ab9ffd0a"]]);export{Pc as default};
